{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/gw2api-client/src/endpoint.js","webpack:///./modules/apiModule.js","webpack:///./modules/module.js","webpack:///./node_modules/gw2api-client/src/index.js","webpack:///./node_modules/gw2api-client/src/endpoints/characters.js","webpack:///./node_modules/gw2api-client/src/endpoints/pvp.js","webpack:///./node_modules/gw2api-client/src/endpoints/commerce.js","webpack:///./node_modules/gw2api-client/src/flow.js","webpack:///./terminal.js","webpack:///./node_modules/gw2api-client/src/client.js","webpack:///./node_modules/lets-fetch/src/index.js","webpack:///./node_modules/node-fetch/browser.js","webpack:///./node_modules/lets-fetch/src/flow.js","webpack:///./node_modules/gw2api-client/src/cache/null.js","webpack:///./node_modules/gw2api-client/src/endpoints/index.js","webpack:///./node_modules/gw2api-client/src/endpoints/account.js","webpack:///./node_modules/querystringify/index.js","webpack:///./node_modules/array-unique/index.js","webpack:///./node_modules/chunk/src/chunk.js","webpack:///./node_modules/gw2api-client/src/hash.js","webpack:///./node_modules/@emotion/hash/dist/hash.browser.cjs.js","webpack:///./node_modules/gw2api-client/src/endpoints/account-blob.js","webpack:///./node_modules/fast-get/src/index.js","webpack:///./node_modules/gw2api-client/src/helpers/resetTime.js","webpack:///./node_modules/gw2api-client/src/endpoints/achievements.js","webpack:///./node_modules/gw2api-client/src/endpoints/backstory.js","webpack:///./node_modules/gw2api-client/src/endpoints/build.js","webpack:///./node_modules/gw2api-client/src/endpoints/cats.js","webpack:///./node_modules/gw2api-client/src/endpoints/colors.js","webpack:///./node_modules/gw2api-client/src/endpoints/continents.js","webpack:///./node_modules/gw2api-client/src/endpoints/currencies.js","webpack:///./node_modules/gw2api-client/src/endpoints/dailycrafting.js","webpack:///./node_modules/gw2api-client/src/endpoints/dungeons.js","webpack:///./node_modules/gw2api-client/src/endpoints/emblem.js","webpack:///./node_modules/gw2api-client/src/endpoints/events.js","webpack:///./node_modules/gw2api-client/src/endpoints/files.js","webpack:///./node_modules/gw2api-client/src/endpoints/finishers.js","webpack:///./node_modules/gw2api-client/src/endpoints/gliders.js","webpack:///./node_modules/gw2api-client/src/endpoints/guild.js","webpack:///./node_modules/gw2api-client/src/endpoints/home.js","webpack:///./node_modules/gw2api-client/src/endpoints/items.js","webpack:///./node_modules/gw2api-client/src/endpoints/itemstats.js","webpack:///./node_modules/gw2api-client/src/endpoints/legends.js","webpack:///./node_modules/gw2api-client/src/endpoints/mailcarriers.js","webpack:///./node_modules/gw2api-client/src/endpoints/mapchests.js","webpack:///./node_modules/gw2api-client/src/endpoints/maps.js","webpack:///./node_modules/gw2api-client/src/endpoints/masteries.js","webpack:///./node_modules/gw2api-client/src/endpoints/materials.js","webpack:///./node_modules/gw2api-client/src/endpoints/minis.js","webpack:///./node_modules/gw2api-client/src/endpoints/mounts.js","webpack:///./node_modules/gw2api-client/src/endpoints/nodes.js","webpack:///./node_modules/gw2api-client/src/endpoints/novelties.js","webpack:///./node_modules/gw2api-client/src/endpoints/outfits.js","webpack:///./node_modules/gw2api-client/src/endpoints/pets.js","webpack:///./node_modules/gw2api-client/src/endpoints/professions.js","webpack:///./node_modules/gw2api-client/src/endpoints/quaggans.js","webpack:///./node_modules/gw2api-client/src/endpoints/quests.js","webpack:///./node_modules/gw2api-client/src/endpoints/races.js","webpack:///./node_modules/gw2api-client/src/endpoints/raids.js","webpack:///./node_modules/gw2api-client/src/endpoints/recipes.js","webpack:///./node_modules/gw2api-client/src/endpoints/skills.js","webpack:///./node_modules/gw2api-client/src/endpoints/skins.js","webpack:///./node_modules/gw2api-client/src/endpoints/specializations.js","webpack:///./node_modules/gw2api-client/src/endpoints/stories.js","webpack:///./node_modules/gw2api-client/src/endpoints/titles.js","webpack:///./node_modules/gw2api-client/src/endpoints/tokeninfo.js","webpack:///./node_modules/gw2api-client/src/endpoints/traits.js","webpack:///./node_modules/gw2api-client/src/endpoints/worldbosses.js","webpack:///./node_modules/gw2api-client/src/endpoints/worlds.js","webpack:///./node_modules/gw2api-client/src/endpoints/wvw.js","webpack:///./modules/dungeon-collection.js","webpack:///./modules/mastery-point-achievements.js","webpack:///./modules/sab-collections.js","webpack:///./modules/index.js","webpack:///./index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","qs","unique","chunk","hashString","clone","x","JSON","parse","stringify","parent","this","client","schemaVersion","lang","apiKey","fetch","caches","debug","baseUrl","isPaginated","maxPageSize","isBulk","supportsBulkAll","isLocalized","isAuthenticated","isOptionallyAuthenticated","credentials","_skipCache","schema","debugMessage","date","flag","string","console","log","url","Promise","reject","Error","cacheTime","_ids","hash","_cacheHash","handleCacheContent","cached","then","content","_cacheSetSingle","resolve","_cacheGetSingle","_request","id","_get","ids","length","immutable","_many","hashes","map","filter","missingIds","getMissingIds","cacheContent","_cacheSetMany","concat","_sortByIdList","cachedIds","_cacheGetMany","partialRequest","requests","page","join","_requestMany","responses","reduce","y","catch","err","response","status","size","_page","_all","totalEntries","firstPage","headers","json","result","Math","ceil","push","cache","set","values","mset","index","keys","mget","missingKeys","missingValues","_usesApiKey","type","_buildUrl","undefined","single","urls","many","parsedUrl","split","parsedQuery","query","assign","replace","entries","indexMap","sort","a","b","terminal","api","_terminal","_api","TypeError","_execute","async","promise","text","wrapApi","Client","AbstractEndpoint","super","BackstoryEndpoint","CoreEndpoint","CraftingEndpoint","EquipmentEndpoint","HeropointsEndpoint","InventoryEndpoint","QuestsEndpoint","RecipesEndpoint","SabEndpoint","SkillsEndpoint","SpecializationsEndpoint","TrainingEndpoint","character","encodeURIComponent","backstory","crafting","equipment","bags","recipes","skills","specializations","training","fromAccount","AmuletsEndpoint","GamesEndpoint","AccountHeroesEndpoint","HeroesEndpoint","RanksEndpoint","SeasonsEndpoint","StandingsEndpoint","StatsEndpoint","SeasonLeaderboardEndpoint","board","region","SeasonLeaderboardBoardEndpoint","DeliveryEndpoint","ExchangeEndpoint","ListingsEndpoint","PricesEndpoint","current","buys","TransactionsEndpoint","sells","history","quantity","list","parallel","promises","results","all","func","Array","isArray","resultPart","global","Terminal","containerID","options","defaults","welcome","prompt","separator","theme","extensions","slice","arguments","_history","localStorage","_histpos","_histtemp","document","getElementById","classList","add","insertAdjacentHTML","_container","querySelector","_inputLine","_cmdLine","_output","_prompt","_background","addEventListener","e","setTimeout","scrollIntoView","output","window","focus","stopPropagation","inputTextClick","historyHandler","processNewCommand","preventDefault","clear","write","writeLine","outputLine","setPrompt","innerHTML","getPrompt","RegExp","setTheme","remove","getTheme","keyCode","cmdline","line","parentNode","cloneNode","removeAttribute","input","autofocus","readOnly","removeChild","appendChild","trim","args","val","cmd","splice","ext","execute","style","minHeight","html","oldTerminal","noConflict","nullCache","endpoints","flow","buildEndpoint","build","cacheBuildId","buildId","live","resp","flushPromises","flush","AccountEndpoint","AchievementsEndpoint","BuildEndpoint","CatsEndpoint","CharactersEndpoint","ColorsEndpoint","CommerceEndpoint","ContinentsEndpoint","CurrenciesEndpoint","DailycraftingEndpoint","DungeonsEndpoint","EmblemEndpoint","EventsEndpoint","FilesEndpoint","FinishersEndpoint","GlidersEndpoint","GuildEndpoint","HomeEndpoint","ItemsEndpoint","ItemstatsEndpoint","LegendsEndpoint","MailcarriersEndpoint","MapchestsEndpoint","MapsEndpoint","MasteriesEndpoint","MaterialsEndpoint","MinisEndpoint","MountsEndpoint","NodesEndpoint","NoveltiesEndpoint","OutfitsEndpoint","PetsEndpoint","ProfessionsEndpoint","PvpEndpoint","QuaggansEndpoint","RacesEndpoint","RaidsEndpoint","SkinsEndpoint","StoriesEndpoint","TitlesEndpoint","TokeninfoEndpoint","TraitsEndpoint","WorldbossesEndpoint","WorldsEndpoint","WvwEndpoint","defaultOptions","method","body","internalRetry","internalRetryWait","tries","callRequest","savedContent","savedResponse","error","message","request","wait","callback","ms","retry","decider","retryWait","flowMethod","series","waitTime","callSingle","self","getGlobal","default","Headers","Request","Response","array","accountBlob","resetTime","BankEndpoint","delivery","DyesEndpoint","cats","HomeCatsEndpoint","nodes","HomeNodesEndpoint","LuckEndpoint","points","MasteryPointsEndpoint","skins","MountSkinsEndpoint","types","MountTypesEndpoint","transactions","WalletEndpoint","isStaleDailyData","endpointInstance","account","Date","last_modified","getLastWeeklyReset","isStaleWeeklyData","getLastDailyReset","undef","has","decode","decodeURIComponent","obj","prefix","pairs","isNaN","part","parser","exec","arr","len","j","arrLen","newArr","collection","parseInt","start","end","emotionHash","str","k","h","charCodeAt","toString","wrap","warn","_set","keyParts","walking","forEach","achievements","bank","characters","commerce","dungeons","dyes","gliders","finishers","home","guilds","guild_leader","data","guild","members","ranks","stash","teams","treasury","upgrades","guildData","accountGuilds","luck","mailcarriers","masteries","mastery","materials","minis","mounts","novelties","outfits","pvp","games","heroes","standings","stats","raids","shared","inventory","titles","wallet","unflatten","flags","includes","filterBetaCharacters","regexCloseSquareBracket","regexOpenSquareBracket","path","defaultValue","segment","DAY_MS","getDateAtTime","time","toISOString","getDailyReset","getTime","getWeeklyReset","weekday","getUTCDay","hours","getUTCHours","minutes","getUTCMinutes","dayDiff","CategoriesEndpoint","GroupsEndpoint","DailyEndpoint","DailyTomorrowEndpoint","AnswersEndpoint","QuestionsEndpoint","FloorsEndpoint","continentId","LayersEndpoint","layer","transformV1Format","events","transformed","PermissionsEndpoint","SearchEndpoint","AllUpgradesEndpoint","UpgradesEndpoint","LogEndpoint","MembersEndpoint","StashEndpoint","StorageEndpoint","TeamsEndpoint","TreasuryEndpoint","logId","TypesEndpoint","AbilitiesEndpoint","MatchesEndpoint","ObjectivesEndpoint","worldId","MatchesOverviewEndpoint","MatchesScoresEndpoint","MatchesStatsEndpoint","team","which","TopStatsEndpoint","collectionAchievements","tokenCurrencies","1725","1723","1721","1722","1714","1718","1719","1724","skinCosts","Helm","Shoulders","Coat","Gloves","Leggings","Boots","Axe","Dagger","Focus","Greatsword","Hammer","Spear","Longbow","Mace","Pistol","Rifle","Scepter","Shield","Shortbow","Speargun","Staff","Sword","Torch","Trident","Warhorn","accountAchievements","skinIds","bits","Map","flat","achievement","accountAchievement","find","skinsUnlocked","done","skinsLocked","indexOf","tokensSpent","details","tokensLeft","tokensOwned","toLocaleString","Set","difference","setB","elem","delete","masteriesRegion","rewards","accountPoints","unlocked","locked","from","unlockedIncorrectly","lockedIncorrectly","sabItems","2875","2880","2860","2867","3393","sabContainers","tokenItems","tokenCosts","itemProviders","80890","count","dayLimit","items","apply","mappedItems","achievementSkins","itemsToFind","default_skin","achievementId","containerId","skinItems","itemId","skinId","ownedItems","addOwnedItem","description","slot","bag","item","bankSlot","tokensRequired","getOwnedItems","getUnlockedItems","getTokenItems","sabItemsUnlockedResult","sabContainersUnlockedResult","tokensUnlockedResult","tokensUnlocked","tokenProviders","tokensPerDay","tokenProvider","tokensRemaining","tokensUnlockedExtra","tokensUnlockedExtraCount","tokenContainersUnlockedResult","tokenContainersUnlocked","tokensRemainingExtra","settings","getItem","setItem","authenticate","commands","help","github","apikey","testApi","newModule","initialize","commandName"],"mappings":"aACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QAKfF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,I,kBClFrD,MAAMC,EAAK,EAAQ,IACbC,EAAS,EAAQ,IACjBC,EAAQ,EAAQ,IAChBC,EAAa,EAAQ,IAErBC,EAASC,GAAMC,KAAKC,MAAMD,KAAKE,UAAUH,IAE/CtC,EAAOD,QAAU,MACf,YAAa2C,GACXC,KAAKC,OAASF,EAAOE,OACrBD,KAAKE,cAAgBH,EAAOG,eAAiB,2BAC7CF,KAAKG,KAAOJ,EAAOI,KACnBH,KAAKI,OAASL,EAAOK,OACrBJ,KAAKK,MAAQN,EAAOM,MACpBL,KAAKM,OAASP,EAAOO,OACrBN,KAAKO,MAAQR,EAAOQ,MAEpBP,KAAKQ,QAAU,6BACfR,KAAKS,aAAc,EACnBT,KAAKU,YAAc,IACnBV,KAAKW,QAAS,EACdX,KAAKY,iBAAkB,EACvBZ,KAAKa,aAAc,EACnBb,KAAKc,iBAAkB,EACvBd,KAAKe,2BAA4B,EACjCf,KAAKgB,aAAc,EAEnBhB,KAAKiB,YAAa,EAIpB,OAAQC,GAGN,OAFAlB,KAAKE,cAAgBgB,EACrBlB,KAAKmB,kCAAkCD,KAChClB,KAIT,gBAAiBoB,GACf,OAAOpB,KAAKE,eAAiBkB,EAI/B,SAAUjB,GAGR,OAFAH,KAAKG,KAAOA,EACZH,KAAKmB,oCAAoChB,KAClCH,KAIT,aAAcI,GAGZ,OAFAJ,KAAKI,OAASA,EACdJ,KAAKmB,mCAAmCf,KACjCJ,KAIT,UAAWqB,GAET,OADArB,KAAKO,MAAQc,EACNrB,KAIT,aAAcsB,GACRtB,KAAKO,OACPgB,QAAQC,uBAAuBF,KAKnC,OAGE,OAFAtB,KAAKiB,YAAa,EAClBjB,KAAKmB,aAAa,kBACXnB,KAIT,MAGE,GAFAA,KAAKmB,oBAAoBnB,KAAKyB,gBAEzBzB,KAAKW,OACR,OAAOe,QAAQC,OAAO,IAAIC,MAAM,yDAIlC,IAAK5B,KAAK6B,UACR,OAAO7B,KAAK8B,OAId,MAAMC,EAAO/B,KAAKgC,WAAW,OACvBC,EAAsBC,GACtBA,GACFlC,KAAKmB,oBAAoBnB,KAAKyB,6BACvBS,GAGFlC,KAAK8B,OAAOK,KAAKC,IACtBpC,KAAKqC,gBAAgBN,EAAMK,GACpBA,IASX,OAJuBpC,KAAKiB,WACxBS,QAAQY,SAAQ,GAAOH,KAAKF,GAC5BjC,KAAKuC,gBAAgBR,GAAMI,KAAKF,IAEdE,KAAKzC,GAI7B,OAEE,OADAM,KAAKmB,oBAAoBnB,KAAKyB,4BACvBzB,KAAKwC,SAASxC,KAAKyB,KAI5B,IAAKgB,EAAIhB,GAAM,GAGb,GAFAzB,KAAKmB,oBAAoBnB,KAAKyB,gBAEzBgB,GAAMzC,KAAKW,SAAWc,EACzB,OAAOC,QAAQC,OAAO,IAAIC,MAAM,yBAIlC,IAAK5B,KAAK6B,UACR,OAAO7B,KAAK0C,KAAKD,EAAIhB,GAIvB,MAAMM,EAAO/B,KAAKgC,WAAWS,GACvBR,EAAsBC,GACtBA,GACFlC,KAAKmB,oBAAoBnB,KAAKyB,6BACvBS,GAGFlC,KAAK0C,KAAKD,EAAIhB,GAAKU,KAAKC,IAC7BpC,KAAKqC,gBAAgBN,EAAMK,GACpBA,IASX,OAJuBpC,KAAKiB,WACxBS,QAAQY,SAAQ,GAAOH,KAAKF,GAC5BjC,KAAKuC,gBAAgBR,GAAMI,KAAKF,IAEdE,KAAKzC,GAI7B,KAAM+C,EAAIhB,GAIR,OAHAzB,KAAKmB,oBAAoBnB,KAAKyB,4BAG1BzB,KAAKW,SAAWc,EACXzB,KAAKwC,YAAYxC,KAAKyB,UAAUgB,KAIrChB,EACKzB,KAAKwC,SAASxC,KAAKyB,IAAMgB,GAI3BzC,KAAKwC,SAASxC,KAAKyB,KAI5B,KAAMkB,GAGJ,GAFA3C,KAAKmB,qBAAqBnB,KAAKyB,gBAAgBkB,EAAIC,gBAE9C5C,KAAKW,OACR,OAAOe,QAAQC,OAAO,IAAIC,MAAM,0DAIlC,GAAmB,IAAfe,EAAIC,OACN,OAAOlB,QAAQY,QAAQ,IAOzB,GAHAK,EAAMpD,EAAOsD,UAAUF,IAGlB3C,KAAK6B,UACR,OAAO7B,KAAK8C,MAAMH,GAIpB,MAAMI,EAASJ,EAAIK,IAAIP,GAAMzC,KAAKgC,WAAWS,IACvCR,EAAsBC,IAG1B,IAFAA,EAASA,EAAOe,OAAOtD,GAAKA,IAEjBiD,SAAWD,EAAIC,OAExB,OADA5C,KAAKmB,qBAAqBnB,KAAKyB,mCACxBS,EAGTlC,KAAKmB,qBAAqBnB,KAAKyB,wCAAwCS,EAAOU,eAC9E,MAAMM,EAAaC,EAAcR,EAAKT,GACtC,OAAOlC,KAAK8C,MAAMI,EAAYhB,EAAOU,OAAS,GAAGT,KAAKC,IACpD,MAAMgB,EAAehB,EAAQY,IAAIzE,GAAS,CAACyB,KAAKgC,WAAWzD,EAAMkE,IAAKlE,IAKtE,OAJAyB,KAAKqD,cAAcD,GAGnBhB,EAAUA,EAAQkB,OAAOpB,GAClBlC,KAAKuD,cAAcnB,EAASO,MAKjCQ,EAAgB,CAACR,EAAKT,KAC1B,MAAMsB,EAAY,GAKlB,OAJAtB,EAAOc,IAAIrD,IACT6D,EAAU7D,EAAE8C,IAAM,IAGbE,EAAIM,OAAOtD,GAAsB,IAAjB6D,EAAU7D,KAQnC,OAJuBK,KAAKiB,WACxBS,QAAQY,QAAQ,IAAIH,KAAKF,GACzBjC,KAAKyD,cAAcV,GAAQZ,KAAKF,IAEdE,KAAKzC,GAI7B,MAAOiD,EAAKe,GAAiB,GAC3B1D,KAAKmB,qBAAqBnB,KAAKyB,6BAA6BkB,EAAIC,eAGhE,MACMe,EADQnE,EAAMmD,EAAK3C,KAAKU,aACPsC,IAAIY,MAAW5D,KAAKyB,WAAWmC,EAAKC,KAAK,QAehE,OAAO7D,KAAK8D,aAAaH,GACtBxB,KAAK4B,GAAaA,EAAUC,OAAO,CAACrE,EAAGsE,IAAMtE,EAAE2D,OAAOW,GAAI,KAC1DC,MAbqBC,GAElBT,GAAkBS,EAAIC,UAAoC,MAAxBD,EAAIC,SAASC,OAC1C3C,QAAQY,QAAQ,IAIlBZ,QAAQC,OAAOwC,IAU1B,KAAMP,EAAMU,EAAOtE,KAAKU,aAGtB,GAFAV,KAAKmB,qBAAqBnB,KAAKyB,gBAE1BzB,KAAKW,SAAWX,KAAKS,YACxB,OAAOiB,QAAQC,OAAO,IAAIC,MAAM,uEAGlC,GAAI0C,EAAOtE,KAAKU,aAAe4D,GAAQ,EACrC,OAAO5C,QAAQC,OAAO,IAAIC,wCAAwC5B,KAAKU,oBAAoB4D,MAG7F,GAAIV,EAAO,EACT,OAAOlC,QAAQC,OAAO,IAAIC,MAAM,gCAIlC,IAAK5B,KAAK6B,UACR,OAAO7B,KAAKuE,MAAMX,EAAMU,GAI1B,MAAMvC,EAAO/B,KAAKgC,WAAW,QAAU4B,EAAO,IAAMU,GAC9CrC,EAAsBC,GACtBA,GACFlC,KAAKmB,qBAAqBnB,KAAKyB,6BACxBS,GAGFlC,KAAKuE,MAAMX,EAAMU,GAAMnC,KAAKC,IACjC,IAAIgB,EAAe,CAAC,CAACrB,EAAMK,IAO3B,OALIpC,KAAKW,SACPyC,EAAeA,EAAaE,OAAOlB,EAAQY,IAAIzE,GAAS,CAACyB,KAAKgC,WAAWzD,EAAMkE,IAAKlE,MAGtFyB,KAAKqD,cAAcD,GACZhB,IASX,OAJuBpC,KAAKiB,WACxBS,QAAQY,SAAQ,GAAOH,KAAKF,GAC5BjC,KAAKuC,gBAAgBR,GAAMI,KAAKF,IAEdE,KAAKzC,GAI7B,MAAOkE,EAAMU,GAEX,OADAtE,KAAKmB,qBAAqBnB,KAAKyB,4BACxBzB,KAAKwC,YAAYxC,KAAKyB,YAAYmC,eAAkBU,KAI7D,MAGE,GAFAtE,KAAKmB,oBAAoBnB,KAAKyB,gBAEzBzB,KAAKW,SAAWX,KAAKS,YACxB,OAAOiB,QAAQC,OAAO,IAAIC,MAAM,sEAIlC,IAAK5B,KAAK6B,UACR,OAAO7B,KAAKwE,OAId,MAAMzC,EAAO/B,KAAKgC,WAAW,OACvBC,EAAsBC,GACtBA,GACFlC,KAAKmB,oBAAoBnB,KAAKyB,6BACvBS,GAGFlC,KAAKwE,OAAOrC,KAAKC,IACtB,IAAIgB,EAAe,CAAC,CAACrB,EAAMK,IAO3B,OALIpC,KAAKW,SACPyC,EAAeA,EAAaE,OAAOlB,EAAQY,IAAIzE,GAAS,CAACyB,KAAKgC,WAAWzD,EAAMkE,IAAKlE,MAGtFyB,KAAKqD,cAAcD,GACZhB,IASX,OAJuBpC,KAAKiB,WACxBS,QAAQY,SAAQ,GAAOH,KAAKF,GAC5BjC,KAAKuC,gBAAgBR,GAAMI,KAAKF,IAEdE,KAAKzC,GAI7B,OAIE,GAHAM,KAAKmB,oBAAoBnB,KAAKyB,4BAG1BzB,KAAKW,QAAUX,KAAKY,gBACtB,OAAOZ,KAAKwC,YAAYxC,KAAKyB,eAI/B,IAAIgD,EACJ,OAAOzE,KAAKwC,YAAYxC,KAAKyB,wBAAwBzB,KAAKU,cAAe,YACtEyB,KAAKuC,IAEJD,EAAeC,EAAUC,QAAQxG,IAAI,kBAC9BuG,EAAUE,SAElBzC,KAAK0C,IAEJ,GAAIJ,GAAgBzE,KAAKU,YACvB,OAAOmE,EAIT,IAAIlB,EAAW,GACf,IAAK,IAAIC,EAAO,EAAGA,EAAOkB,KAAKC,KAAKN,EAAezE,KAAKU,aAAckD,IACpED,EAASqB,QAAQhF,KAAKyB,YAAYmC,eAAkB5D,KAAKU,eAG3D,OAAOV,KAAK8D,aAAaH,GAAUxB,KAAK4B,IACtCA,EAAYA,EAAUC,OAAO,CAACrE,EAAGsE,IAAMtE,EAAE2D,OAAOW,GAAI,IAC7CY,EAAOvB,OAAOS,OAM7B,gBAAiBlF,EAAKN,GACpByB,KAAKM,OAAO0C,IAAIiC,GAASA,EAAMC,IAAIrG,EAAKN,EAAOyB,KAAK6B,YAItD,cAAesD,GACbA,EAASA,EAAOnC,IAAIzE,GAAS,CAACA,EAAM,GAAIA,EAAM,GAAIyB,KAAK6B,YACvD7B,KAAKM,OAAO0C,IAAIiC,GAASA,EAAMG,KAAKD,IAItC,gBAAiBtG,EAAKwG,EAAQ,GAC5B,OAAOrF,KAAKM,OAAO+E,GAAOlH,IAAIU,GAAKsD,KAAK5D,GAClCA,GAAS8G,IAAUrF,KAAKM,OAAOsC,OAAS,EACnCrE,EAGFyB,KAAKuC,gBAAgB1D,IAAOwG,IAKvC,cAAeC,EAAMD,EAAQ,GAC3B,OAAOrF,KAAKM,OAAO+E,GAAOE,KAAKD,GAAMnD,KAAKgD,IAIxC,GAHoBA,EAAOlC,OAAOtD,GAAKA,GAGvBiD,SAAW0C,EAAK1C,QAAUyC,IAAUrF,KAAKM,OAAOsC,OAAS,EACvE,OAAOuC,EAIT,IAAIK,EAAcL,EACfnC,IAAI,CAACzE,EAAOjB,KAAMiB,GAAgB+G,EAAKhI,IACvC2F,OAAO1E,GAASA,GAGnB,OAAOyB,KAAKyD,cAAc+B,IAAeH,GAAOlD,KAAKsD,IACnD,IAAInI,EAAI,EACR,OAAO6H,EAAOnC,IAAIzE,GAASA,GAASkH,EAAcnI,UAMxD,WAAYmF,GACV,IAAIV,EAAOtC,EAAWO,KAAKQ,QAAUR,KAAKyB,IAAM,IAAMzB,KAAKE,eAc3D,OAZIuC,IACFV,GAAQ,IAAMU,GAGZzC,KAAKa,cACPkB,GAAQ,IAAM/B,KAAKG,MAGjBH,KAAK0F,gBACP3D,GAAQ,IAAMtC,EAAWO,KAAKI,OAAS,KAGlC2B,EAIT,SAAUN,EAAKkE,EAAO,QACpBlE,EAAMzB,KAAK4F,UAAUnE,GAGrB,MAAMT,EAAchB,KAAKgB,YAAc,eAAY6E,EAEnD,OAAO7F,KAAKK,MAAMyF,OAAOrE,EAAK,CAAEkE,OAAM3E,gBAIxC,aAAc+E,EAAMJ,EAAO,QACzBI,EAAOA,EAAK/C,IAAIvB,GAAOzB,KAAK4F,UAAUnE,IAGtC,MAAMT,EAAchB,KAAKgB,YAAc,eAAY6E,EAEnD,OAAO7F,KAAKK,MAAM2F,KAAKD,EAAM,CAAEJ,OAAM3E,gBAIvC,UAAWS,GAKT,MAAMwE,GAHNxE,EAAMzB,KAAKQ,QAAUiB,GAGCyE,MAAM,KAC5B,IAAIC,EAAc7G,EAAGO,MAAMoG,EAAU,IAAM,IAEvCG,EAAQ,GAqBZ,OAlBAA,EAAS,EAAIpG,KAAKE,cAIdF,KAAK0F,gBACPU,EAAoB,aAAIpG,KAAKI,QAI3BJ,KAAKa,cACPuF,EAAY,KAAIpG,KAAKG,MAIvBiG,EAAQpI,OAAOqI,OAAOD,EAAOD,GAG7BC,EAAQ9G,EAAGQ,UAAUsG,GAAO,GAAME,QAAQ,OAAQ,KAC3CL,EAAU,GAAKG,EAIxB,cAAeG,EAAS5D,GAEtB,IAAI6D,EAAW,GAOf,OANA7D,EAAIK,IAAI,CAACrD,EAAGrC,KACVkJ,EAAS7G,GAAKrC,IAIhBiJ,EAAQE,KAAK,CAACC,EAAGC,IAAMH,EAASE,EAAEjE,IAAM+D,EAASG,EAAElE,KAC5C8D,EAGT,cACE,OAAOvG,KAAKc,mBAAqBd,KAAKe,2BAA6Bf,KAAKI,W,6BCxf7D,kBChBA,MACX,WAAWwG,EAAUC,GACjB7G,KAAK8G,UAAYF,EACjB5G,KAAK+G,KAAOF,EAGhB,kBACI,MAAM,IAAIG,UAAU,sDAGxB,UACI,OAAOhH,KAAKiH,WAGhB,WACI,MAAM,IAAID,UAAU,qDDExB,kBACI,MAAM,IAAIA,UAAU,sDAGxB,UACI,OApBRE,eAAuBC,GACnB,IACI,aAAaA,EACf,MAAOhD,GACL,MAAKA,EAAI/B,QAEE+B,EAAI/B,QAAQgF,cACJjD,EAAIC,SAASC,WAAWF,EAAI/B,QAAQgF,iBAEpCjD,EAAIC,SAASC,SAJtBF,GAeHkD,CAAQrH,KAAKiH,e,gBEtB5B,MAAMK,EAAS,EAAQ,GAGvBjK,EAAOD,QAAU,WACf,OAAO,IAAIkK,I,gBCJb,MAAMC,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAAiCmK,EAChD,YAAatH,EAAQpC,GACnB2J,MAAMvH,GACND,KAAKnC,KAAOA,EACZmC,KAAKyB,IAAM,iBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKY,iBAAkB,EACvBZ,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,IAGnB,YACE,OAAO,IAAI4F,EAAkBzH,KAAMA,KAAKnC,MAG1C,OACE,OAAO,IAAI6J,EAAa1H,KAAMA,KAAKnC,MAGrC,WACE,OAAO,IAAI8J,EAAiB3H,KAAMA,KAAKnC,MAGzC,YACE,OAAO,IAAI+J,EAAkB5H,KAAMA,KAAKnC,MAG1C,aACE,OAAO,IAAIgK,EAAmB7H,KAAMA,KAAKnC,MAG3C,YACE,OAAO,IAAIiK,EAAkB9H,KAAMA,KAAKnC,MAG1C,SACE,OAAO,IAAIkK,EAAe/H,KAAMA,KAAKnC,MAGvC,UACE,OAAO,IAAImK,EAAgBhI,KAAMA,KAAKnC,MAGxC,MACE,OAAO,IAAIoK,EAAYjI,KAAMA,KAAKnC,MAGpC,SACE,OAAO,IAAIqK,EAAelI,KAAMA,KAAKnC,MAGvC,kBACE,OAAO,IAAIsK,EAAwBnI,KAAMA,KAAKnC,MAGhD,WACE,OAAO,IAAIuK,EAAiBpI,KAAMA,KAAKnC,QAI3C,MAAM4J,UAA0BF,EAC9B,YAAatH,EAAQoI,GACnBb,MAAMvH,GACND,KAAKyB,sBAAwB6G,mBAAmBD,eAChDrI,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,IAGnB,MACE,OAAO2F,MAAMrJ,MAAMgE,KAAK0C,GAAUA,EAAO0D,YAI7C,MAAMb,UAAqBH,EACzB,YAAatH,EAAQoI,GACnBb,MAAMvH,GACND,KAAKyB,sBAAwB6G,mBAAmBD,UAChDrI,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAM8F,UAAyBJ,EAC7B,YAAatH,EAAQoI,GACnBb,MAAMvH,GACND,KAAKyB,sBAAwB6G,mBAAmBD,cAChDrI,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,IAGnB,MACE,OAAO2F,MAAMrJ,MAAMgE,KAAK0C,GAAUA,EAAO2D,WAI7C,MAAMZ,UAA0BL,EAC9B,YAAatH,EAAQoI,GACnBb,MAAMvH,GACND,KAAKyB,sBAAwB6G,mBAAmBD,eAChDrI,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,IAGnB,MACE,OAAO2F,MAAMrJ,MAAMgE,KAAK0C,GAAUA,EAAO4D,YAI7C,MAAMZ,UAA2BN,EAC/B,YAAatH,EAAQoI,GACnBb,MAAMvH,GACND,KAAKyB,sBAAwB6G,mBAAmBD,gBAChDrI,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAMiG,UAA0BP,EAC9B,YAAatH,EAAQoI,GACnBb,MAAMvH,GACND,KAAKyB,sBAAwB6G,mBAAmBD,eAChDrI,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,IAGnB,MACE,OAAO2F,MAAMrJ,MAAMgE,KAAK0C,GAAUA,EAAO6D,OAI7C,MAAMX,UAAuBR,EAC3B,YAAatH,EAAQoI,GACnBb,MAAMvH,GACND,KAAKyB,sBAAwB6G,mBAAmBD,YAChDrI,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAMmG,UAAwBT,EAC5B,YAAatH,EAAQoI,GACnBb,MAAMvH,GACND,KAAKyB,sBAAwB6G,mBAAmBD,aAChDrI,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,IAGnB,MACE,OAAO2F,MAAMrJ,MAAMgE,KAAK0C,GAAUA,EAAO8D,UAI7C,MAAMV,UAAoBV,EACxB,YAAatH,EAAQoI,GACnBb,MAAMvH,GACND,KAAKyB,sBAAwB6G,mBAAmBD,SAChDrI,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAMqG,UAAuBX,EAC3B,YAAatH,EAAQoI,GACnBb,MAAMvH,GACND,KAAKyB,sBAAwB6G,mBAAmBD,YAChDrI,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,IAGnB,MACE,OAAO2F,MAAMrJ,MAAMgE,KAAK0C,GAAUA,EAAO+D,SAI7C,MAAMT,UAAgCZ,EACpC,YAAatH,EAAQoI,GACnBb,MAAMvH,GACND,KAAKyB,sBAAwB6G,mBAAmBD,qBAChDrI,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,IAGnB,MACE,OAAO2F,MAAMrJ,MAAMgE,KAAK0C,GAAUA,EAAOgE,kBAI7C,MAAMT,UAAyBb,EAC7B,YAAatH,EAAQoI,GACnBb,MAAMvH,GACND,KAAKyB,sBAAwB6G,mBAAmBD,cAChDrI,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,IAGnB,MACE,OAAO2F,MAAMrJ,MAAMgE,KAAK0C,GAAUA,EAAOiE,a,gBCvM7C,MAAMvB,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAA0BmK,EACzC,YAAatH,EAAQ8I,GACnBvB,MAAMvH,GACND,KAAK+I,YAAcA,EAGrB,UACE,OAAO,IAAIC,EAAgBhJ,MAG7B,QACE,OAAO,IAAIiJ,EAAcjJ,MAG3B,SACE,OAAIA,KAAK+I,YACA,IAAIG,EAAsBlJ,MAG5B,IAAImJ,EAAenJ,MAG5B,QACE,OAAO,IAAIoJ,EAAcpJ,MAG3B,QAASyC,GACP,OAAO,IAAI4G,EAAgBrJ,KAAMyC,GAGnC,YACE,OAAO,IAAI6G,EAAkBtJ,MAG/B,QACE,OAAO,IAAIuJ,EAAcvJ,QAI7B,MAAMkJ,UAA8B3B,EAClC,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,yBACXzB,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAMmH,UAAwBzB,EAC5B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,kBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,OAIrB,MAAMoH,UAAsB1B,EAC1B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,gBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAMsH,UAAuB5B,EAC3B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,iBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,OAIrB,MAAMuH,UAAsB7B,EAC1B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,gBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,OAIrB,MAAMwH,UAAwB9B,EAC5B,YAAatH,EAAQwC,GACnB+E,MAAMvH,GACND,KAAKyC,GAAKA,EACVzC,KAAKyB,IAAM,kBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,MAGnB,eACE,OAAO,IAAI2H,EAA0BxJ,KAAMA,KAAKyC,KAIpD,MAAM+G,UAAkCjC,EACtC,YAAatH,EAAQwC,GACnB+E,MAAMvH,GACND,KAAKyC,GAAKA,EACVzC,KAAKyB,uBAAyBgB,iBAC9BzC,KAAK6B,UAAY,MAGnB,MACE,OAAO2F,MAAMrJ,IAAI,IAAI,GAGvB,MAAOsL,EAAOC,GACZ,OAAO,IAAIC,EAA+B3J,KAAMA,KAAKyC,GAAIgH,EAAOC,IAIpE,MAAMC,UAAuCpC,EAC3C,YAAatH,EAAQwC,EAAIgH,EAAOC,GAC9BlC,MAAMvH,GACND,KAAKyB,uBAAyBgB,kBAAmBgH,KAASC,IAC1D1J,KAAKS,aAAc,EACnBT,KAAK6B,UAAY,KAIrB,MAAMyH,UAA0B/B,EAC9B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,oBACXzB,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAM0H,UAAsBhC,EAC1B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,gBACXzB,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,O,gBCtJrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAA+BmK,EAE9C,WACE,OAAO,IAAIqC,EAAiB5J,MAI9B,WACE,OAAO,IAAI6J,EAAiB7J,MAI9B,WACE,OAAO,IAAI8J,EAAiB9J,MAI9B,SACE,OAAO,IAAI+J,EAAe/J,MAI5B,eACE,MAAO,CACLgK,QAAS,KAAM,CACbC,KAAM,IAAM,IAAIC,EAAqBlK,KAAM,UAAW,QACtDmK,MAAO,IAAM,IAAID,EAAqBlK,KAAM,UAAW,WAEzDoK,QAAS,KAAM,CACbH,KAAM,IAAM,IAAIC,EAAqBlK,KAAM,UAAW,QACtDmK,MAAO,IAAM,IAAID,EAAqBlK,KAAM,UAAW,cAM/D,MAAM4J,UAAyBrC,EAC7B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,wBACXzB,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAMgI,UAAyBtC,EAC7B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,wBACXzB,KAAK6B,UAAY,IAGnB,KAAMwI,GACJ,OAAO7C,MAAMrJ,sBAAsBkM,KAAY,GAGjD,MAAOA,GACL,OAAO7C,MAAMrJ,uBAAuBkM,KAAY,IAIpD,MAAMP,UAAyBvC,EAC7B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,wBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKY,iBAAkB,EACvBZ,KAAK6B,UAAY,KAIrB,MAAMkI,UAAuBxC,EAC3B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,sBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKY,iBAAkB,EACvBZ,KAAK6B,UAAY,IAIrB,MAAMqI,UAA6B3C,EACjC,YAAatH,EAAQ0F,EAAM2E,GACzB9C,MAAMvH,GACND,KAAKyB,iCAAmCkE,KAAQ2E,IAChDtK,KAAKS,aAAc,EACnBT,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,O,cCzErBxE,EAAOD,QAAU,CAAEmN,SAlBnBrD,eAAyBsD,GACvB,MAAMC,QAAgB/I,QAAQgJ,IAC5B1M,OAAOmH,OAAOqF,GAAUxH,IAAI2H,GAAQA,MAItC,GAAIC,MAAMC,QAAQL,GAChB,OAAOC,EAIT,MAAMnF,EAAOtH,OAAOsH,KAAKkF,GACzB,OAAOC,EAAQzG,OAAO,CAAChF,EAAQ8L,EAAYzF,KACzCrG,EAAOsG,EAAKD,IAAUyF,EACf9L,GACN,O,iBCfL,SAAW+L,EAAQlF,GAElB,IAAImF,EAAWA,GAAY,SAASC,EAAaC,GAChD,GAAKD,EAAL,CAEA,IAAIE,EAAW,CACdC,QAAS,GACTC,OAAQ,GACRC,UAAW,OACXC,MAAO,eAGJL,EAAUA,GAAWC,GACjBC,QAAUF,EAAQE,SAAWD,EAASC,QAC9CF,EAAQG,OAASH,EAAQG,QAAUF,EAASE,OAC5CH,EAAQI,UAAYJ,EAAQI,WAAaH,EAASG,UAClDJ,EAAQK,MAAQL,EAAQK,OAASJ,EAASI,MAE1C,IAAIC,EAAaZ,MAAM1L,UAAUuM,MAAMhO,KAAKiO,UAAW,GAEnDC,EAAWC,aAAaxB,QAAUxK,KAAKC,MAAM+L,aAAaxB,SAAW,GACrEyB,EAAWF,EAAS/I,OACpBkJ,EAAY,GAGZhF,EAAYiF,SAASC,eAAef,GACxCnE,EAAUmF,UAAUC,IAAI,YACxBpF,EAAUmF,UAAUC,IAAI,YAAchB,EAAQK,OAC9CzE,EAAUqF,mBAAmB,YAAa,CACzC,8DACA,0BACA,oBACA,6BACA,sCAAwCjB,EAAQG,OAASH,EAAQI,UAAY,+FAC7E,WACA,UAAUzH,KAAK,KAChB,IAAIuI,EAAatF,EAAUuF,cAAc,cACrCC,EAAaF,EAAWC,cAAc,eACtCE,EAAWH,EAAWC,cAAc,wBACpCG,EAAUJ,EAAWC,cAAc,UACnCI,EAAUL,EAAWC,cAAc,WACnCK,EAAcX,SAASM,cAAc,eAwJzC,OArJAG,EAAQG,iBAAiB,qBAAsB,SAASC,GAEvDC,WAAW,WACVN,EAASO,kBACP,KACD,GAEC5B,EAAQE,SACX2B,EAAO7B,EAAQE,SAGhB4B,OAAOL,iBAAiB,QAAS,SAASC,GACzCL,EAASU,UACP,GAEHT,EAAQG,iBAAiB,QAAS,SAASC,GAC1CA,EAAEM,oBACA,GAGHX,EAASI,iBAAiB,QAASQ,GAAgB,GACnDb,EAAWK,iBAAiB,QAAS,SAASC,GAC7CL,EAASU,UACP,GAGHV,EAASI,iBAAiB,QAASS,GAAgB,GACnDb,EAASI,iBAAiB,UAAWU,GAAmB,GAExDL,OAAOL,iBAAiB,QAAS,SAASC,GACzCL,EAASU,QACTL,EAAEM,kBACFN,EAAEU,mBACA,GAoHI,CACNC,MAAOA,EACPC,MAAOT,EACPU,UAAWC,EACXC,UAAW,SAAStC,GAAUoB,EAAQmB,UAAYvC,EAASH,EAAQI,WACnEuC,UAAW,WAAa,OAAOpB,EAAQmB,UAAUtH,QAAQ,IAAIwH,OAAO5C,EAAQI,UAAY,KAAM,KAC9FyC,SAAU,SAASxC,GAASzE,EAAUmF,UAAU+B,OAAO,YAAc9C,EAAQK,OAAQL,EAAQK,MAAQA,EAAOzE,EAAUmF,UAAUC,IAAI,YAAchB,EAAQK,QAC1J0C,SAAU,WAAa,OAAO/C,EAAQK,QAzHvC,SAAS4B,EAAeP,GACvB5M,KAAKzB,MAAQyB,KAAKzB,MAGnB,SAAS6O,EAAeR,GAEN,IAAbA,EAAEsB,UACLlO,KAAKzB,MAAQ,GACbqO,EAAEM,kBACFN,EAAEU,mBAGC3B,EAAS/I,QAAwB,IAAbgK,EAAEsB,SAA8B,IAAbtB,EAAEsB,UACxCvC,EAASE,GACZF,EAASE,GAAY7L,KAAKzB,MAG1BuN,EAAY9L,KAAKzB,MAGD,IAAbqO,EAAEsB,UAELrC,EACe,IACdA,EAAW,GAGS,IAAbe,EAAEsB,WAEVrC,EACeF,EAAS/I,SACvBiJ,EAAWF,EAAS/I,QAItB5C,KAAKzB,MAAQoN,EAASE,GAAYF,EAASE,GAAYC,EAGvD9L,KAAKzB,MAAQyB,KAAKzB,OAIpB2I,eAAemG,EAAkBT,GAEhC,GAAiB,IAAbA,EAAEsB,QAAN,CAEA,IAAIC,EAAUnO,KAAKzB,MAGf4P,IACHxC,EAASA,EAAS/I,QAAUuL,EAC5BvC,aAAsB,QAAIhM,KAAKE,UAAU6L,GACzCE,EAAWF,EAAS/I,QAIrB,IAAIwL,EAAOpO,KAAKqO,WAAWA,WAAWA,WAAWA,WAAWC,WAAU,GACtEF,EAAKG,gBAAgB,MACrBH,EAAKnC,UAAUC,IAAI,QACnB,IAAIsC,EAAQJ,EAAK/B,cAAc,iBAc/B,GAbAmC,EAAMC,WAAY,EAClBD,EAAME,UAAW,EACjBF,EAAMrC,mBAAmB,cAAeqC,EAAMjQ,OAC9CiQ,EAAMH,WAAWM,YAAYH,GAC7BhC,EAAQoC,YAAYR,GAGpB9B,EAAWL,UAAUC,IAAI,UAGzBlM,KAAKzB,MAAQ,GAGT4P,GAAWA,EAAQU,OAAQ,CAC9B,IAAIC,EAAOX,EAAQjI,MAAM,KAAKjD,OAAO,SAAS8L,EAAKzR,GAClD,OAAOyR,IAEJC,EAAMF,EAAK,GACfA,EAAOA,EAAKG,OAAO,GAGpB,GAAID,EAAK,CACR,IAAI5K,GAAW,EACf,IAAK,IAAIiB,KAASmG,EAAY,CAC7B,IAAI0D,EAAM1D,EAAWnG,GAKrB,GAJI6J,EAAIC,UAAS/K,EAAW8K,EAAIC,QAAQH,EAAKF,IACzC1K,GAAYA,EAASjC,OACxBiC,QAAiBA,IAED,IAAbA,EAAoB,OAER,IAAbA,IAAoBA,EAAW4K,EAAM,uBACzCjC,EAAO3I,GAIRkI,EAAWL,UAAU+B,OAAO,WAG7B,SAAST,IACRf,EAAQoB,UAAY,GACpBrB,EAAShO,MAAQ,GACjBmO,EAAY0C,MAAMC,UAAY,GAG/B,SAAStC,EAAOuC,GACf9C,EAAQL,mBAAmB,YAAamD,GACxC/C,EAASO,iBAGV,SAASY,EAAW4B,GACnBvC,KAAUuC,GAAc,aAe1B,GAAqCjS,EAAOD,QAC3CC,EAAOD,QAAU4N,MAGX,CACN,IAAIuE,EAAcxE,EAAOC,SACzBA,EAASwE,WAAa,WAErB,OADAzE,EAAOC,SAAWuE,EACXvE,GAERD,EAAOC,SAAWA,GAvNpB,CA0NGhL,O,gBC1NH,MAAMK,EAAQ,EAAQ,GAChBoP,EAAY,EAAQ,IACpBC,EAAY,EAAQ,IACpBC,EAAO,EAAQ,GAErBtS,EAAOD,QAAU,MACf,cACE4C,KAAKE,cAAgB,2BACrBF,KAAKG,KAAO,KACZH,KAAKI,QAAS,EACdJ,KAAKK,MAAQA,EACbL,KAAKM,OAAS,CAACmP,KACfzP,KAAKO,OAAQ,EACbP,KAAKC,OAASD,KAIhB,OAAQkB,GAGN,OAFAlB,KAAKE,cAAgBgB,EACrBlB,KAAKmB,kCAAkCD,KAChClB,KAIT,SAAUG,GAGR,OAFAH,KAAKG,KAAOA,EACZH,KAAKmB,oCAAoChB,KAClCH,KAIT,aAAcI,GAGZ,OAFAJ,KAAKI,OAASA,EACdJ,KAAKmB,mCAAmCf,KACjCJ,KAIT,aAAcM,GAGZ,OAFAN,KAAKM,OAAS,GAAGgD,OAAOhD,GACxBN,KAAKmB,aAAa,6BACXnB,KAIT,UAAWqB,GAET,OADArB,KAAKO,MAAQc,EACNrB,KAIT,aAAcsB,GACRtB,KAAKO,OACPgB,QAAQC,uBAAuBF,KAKnC,0BACE,MAAMsO,EAAgB5P,KAAK6P,QACrBrF,EAAW,CACfsF,aAAc,IAAMF,EAAcrN,gBAAgB,gBAClDwN,QAAS,IAAMH,EAAcI,OAAO7R,OAGtC,OAAOwR,EAAKpF,SAASC,GAAUrI,KAAK8N,IAClC,IAAIC,EAAgB,GAUpB,OANID,EAAKH,cAAgBG,EAAKH,aAAeG,EAAKF,UAChD/P,KAAKmB,aAAa,6CAClB+O,EAAgBlQ,KAAKM,OAAO0C,IAAIiC,GAAS,IAAMA,EAAMkL,UAIhDR,EAAKpF,SAAS2F,GAClB/N,KAAK,IAAMyN,EAAcvN,gBAAgB,eAAgB4N,EAAKF,YAKrE,UACE,OAAO,IAAIL,EAAUU,gBAAgBpQ,MAGvC,eACE,OAAO,IAAI0P,EAAUW,qBAAqBrQ,MAG5C,YACE,OAAO,IAAI0P,EAAUjI,kBAAkBzH,MAGzC,QACE,OAAO,IAAI0P,EAAUY,cAActQ,MAGrC,OACE,OAAO,IAAI0P,EAAUa,aAAavQ,MAGpC,WAAYnC,GACV,OAAO,IAAI6R,EAAUc,mBAAmBxQ,KAAMnC,GAGhD,SACE,OAAO,IAAI6R,EAAUe,eAAezQ,MAGtC,WACE,OAAO,IAAI0P,EAAUgB,iBAAiB1Q,MAGxC,aACE,OAAO,IAAI0P,EAAUiB,mBAAmB3Q,MAG1C,aACE,OAAO,IAAI0P,EAAUkB,mBAAmB5Q,MAG1C,gBACE,OAAO,IAAI0P,EAAUmB,sBAAsB7Q,MAG7C,WACE,OAAO,IAAI0P,EAAUoB,iBAAiB9Q,MAGxC,SACE,OAAO,IAAI0P,EAAUqB,eAAe/Q,MAGtC,SACE,OAAO,IAAI0P,EAAUsB,eAAehR,MAGtC,QACE,OAAO,IAAI0P,EAAUuB,cAAcjR,MAGrC,YACE,OAAO,IAAI0P,EAAUwB,kBAAkBlR,MAGzC,UACE,OAAO,IAAI0P,EAAUyB,gBAAgBnR,MAGvC,MAAOyC,GACL,OAAO,IAAIiN,EAAU0B,cAAcpR,KAAMyC,GAG3C,OACE,OAAO,IAAIiN,EAAU2B,aAAarR,MAGpC,QACE,OAAO,IAAI0P,EAAU4B,cAActR,MAGrC,YACE,OAAO,IAAI0P,EAAU6B,kBAAkBvR,MAGzC,UACE,OAAO,IAAI0P,EAAU8B,gBAAgBxR,MAGvC,eACE,OAAO,IAAI0P,EAAU+B,qBAAqBzR,MAG5C,YACE,OAAO,IAAI0P,EAAUgC,kBAAkB1R,MAGzC,OACE,OAAO,IAAI0P,EAAUiC,aAAa3R,MAGpC,YACE,OAAO,IAAI0P,EAAUkC,kBAAkB5R,MAGzC,YACE,OAAO,IAAI0P,EAAUmC,kBAAkB7R,MAGzC,QACE,OAAO,IAAI0P,EAAUoC,cAAc9R,MAGrC,SACE,OAAO,IAAI0P,EAAUqC,eAAe/R,MAGtC,QACE,OAAO,IAAI0P,EAAUsC,cAAchS,MAGrC,YACE,OAAO,IAAI0P,EAAUuC,kBAAkBjS,MAGzC,UACE,OAAO,IAAI0P,EAAUwC,gBAAgBlS,MAGvC,OACE,OAAO,IAAI0P,EAAUyC,aAAanS,MAGpC,cACE,OAAO,IAAI0P,EAAU0C,oBAAoBpS,MAG3C,MACE,OAAO,IAAI0P,EAAU2C,YAAYrS,MAGnC,WACE,OAAO,IAAI0P,EAAU4C,iBAAiBtS,MAGxC,SACE,OAAO,IAAI0P,EAAU3H,eAAe/H,MAGtC,QACE,OAAO,IAAI0P,EAAU6C,cAAcvS,MAGrC,QACE,OAAO,IAAI0P,EAAU8C,cAAcxS,MAGrC,UACE,OAAO,IAAI0P,EAAU1H,gBAAgBhI,MAGvC,SACE,OAAO,IAAI0P,EAAUxH,eAAelI,MAGtC,QACE,OAAO,IAAI0P,EAAU+C,cAAczS,MAGrC,kBACE,OAAO,IAAI0P,EAAUvH,wBAAwBnI,MAG/C,UACE,OAAO,IAAI0P,EAAUgD,gBAAgB1S,MAGvC,SACE,OAAO,IAAI0P,EAAUiD,eAAe3S,MAGtC,YACE,OAAO,IAAI0P,EAAUkD,kBAAkB5S,MAGzC,SACE,OAAO,IAAI0P,EAAUmD,eAAe7S,MAGtC,cACE,OAAO,IAAI0P,EAAUoD,oBAAoB9S,MAG3C,SACE,OAAO,IAAI0P,EAAUqD,eAAe/S,MAGtC,MACE,OAAO,IAAI0P,EAAUsD,YAAYhT,S,gBCvRrC,MAAMK,EAAQ,EAAQ,IAChBsP,EAAO,EAAQ,IAEfsD,EAAiB,CACrBtN,KAAM,OACNuN,OAAQ,MACRvO,QAAS,GACTwO,UAAMtN,GAGR,IAAIuN,EAAgB,KAAM,EACtBC,EAAoB,KAAM,EAiB9B,SAASvN,EAAQrE,EAAKyJ,EAAU,IAC9B,IAAIoI,EAAQ,EAIZ,MAAMC,EAAc,KAYtB,SAAkB9R,EAAKyJ,GAErB,IAAIsI,EACAC,EAEJ,OAJAvI,EAAUlN,OAAOqI,OAAO,GAAI4M,EAAgB/H,GAIrC,IAAIxJ,QAAQ,CAACY,EAASX,KAC3BtB,EAAMoB,EAAKyJ,GACR/I,KAIH,SAAyBiC,GAKvB,OAHAqP,EAAgBrP,EAGR8G,EAAQvF,MACd,IAAK,WACH,OAAOvB,EACT,IAAK,OACH,OAAOA,EAASQ,OAClB,QACE,OAAOR,EAASgD,UAdnBjF,KAkBH,SAAqBC,GAEnB,GAAIqR,GAAiBA,EAAcpP,QAAU,IAE3C,MADAmP,EAAepR,EACT,IAAIR,MAAM,mCAIlBU,EAAQF,KAzBP8B,MA4BH,SAAsBC,GAEhBsP,GAAiBA,EAAcpP,QAAU,MAC3CF,EAAM,IAAIvC,gBAAgB6R,EAAcpP,WAI1C,IAAIqP,EAAQ,IAAI9R,MAAMuC,EAAIwP,SAC1BD,EAAMtP,SAAWqP,EACjBC,EAAMtR,QAAUoR,EAChB7R,EAAO+R,QA3DeE,CAAQnS,EAAKyJ,GAAShH,MAAMC,IACpD,GAAIiP,IAAgBE,EAAOnP,GACzB,OAAO0P,EAAKN,EAAaF,EAAkBC,IAG7C,MAAMnP,IAGR,OAAOoP,IAsET,SAASM,EAAMC,EAAUC,GACvB,OAAO,IAAIrS,QAAQY,IACjBuK,WAAW,IAAMvK,EAAQwR,KAAaC,GAAM,KApGhD1W,EAAOD,QAAU,CAAE4W,MAInB,SAAgBC,GACdb,EAAgBa,GALQC,UAU1B,SAAoBJ,GAClBT,EAAoBS,GAXehO,SAAQE,KAqF7C,SAAeD,EAAMmF,EAAU,IAC7B,IAAIiJ,EAAcjJ,EAAgB,SAAIyE,EAAKyE,OAASzE,EAAKpF,SAOzD,IAAIC,EAAWzE,EAAK/C,IAAIvB,GAAO,IAJZ,CAACA,GAAQqE,EAAOrE,EAAKyJ,GACrC/I,KAAKC,GAAWyR,EAAK,IAAMzR,EAAS8I,EAAQmJ,WAGVC,CAAW7S,IAChD,OAAO0S,EAAW3J,M,6BCxGpB,IAUIO,EAVY,WAIf,GAAoB,oBAATwJ,KAAwB,OAAOA,KAC1C,GAAsB,oBAAXvH,OAA0B,OAAOA,OAC5C,QAAsB,IAAXjC,EAA0B,OAAOA,EAC5C,MAAM,IAAInJ,MAAM,kCAGJ4S,GAEbnX,EAAOD,QAAUA,EAAU2N,EAAO1K,MAGlCjD,EAAQqX,QAAU1J,EAAO1K,MAAMvB,KAAKiM,GAEpC3N,EAAQsX,QAAU3J,EAAO2J,QACzBtX,EAAQuX,QAAU5J,EAAO4J,QACzBvX,EAAQwX,SAAW7J,EAAO6J,U,cCR1BvX,EAAOD,QAAU,CACfgX,OAfFlN,eAAuB2N,GACrB,IAAIpK,EAAU,GAEd,IAAK,IAAInN,EAAI,EAAGA,IAAMuX,EAAMjS,OAAQtF,IAClCmN,EAAQzF,WAAW6P,EAAMvX,MAG3B,OAAOmN,GASPF,SANF,SAAmBsK,GACjB,OAAOnT,QAAQgJ,IAAImK,EAAM7R,IAAI2H,GAAQA,S,cCPvC,SAASxM,IACP,OAAOuD,QAAQY,QAAQ,MAGzB,SAAS4C,IACP,OAAOxD,QAAQY,SAAQ,GAGzB,SAASiD,EAAMD,GACb,MAAMH,EAASG,EAAKtC,IAAIrD,GAAK,MAC7B,OAAO+B,QAAQY,QAAQ6C,GAGzB,SAASC,IACP,OAAO1D,QAAQY,SAAQ,GAGzB,SAAS6N,IACP,OAAOzO,QAAQY,SAAQ,GAtBzBjF,EAAOD,QAAU,WACf,MAAO,CAAEe,MAAK+G,MAAKK,OAAMH,OAAM+K,W,gBCDjC9S,EAAOD,QAAU,CACfgT,gBAAiB,EAAQ,IACzBC,qBAAsB,EAAQ,IAC9B5I,kBAAmB,EAAQ,IAC3B6I,cAAe,EAAQ,IACvBC,aAAc,EAAQ,IACtBC,mBAAoB,EAAQ,GAC5BC,eAAgB,EAAQ,IACxBC,iBAAkB,EAAQ,GAC1BC,mBAAoB,EAAQ,IAC5BC,mBAAoB,EAAQ,IAC5BC,sBAAuB,EAAQ,IAC/BC,iBAAkB,EAAQ,IAC1BC,eAAgB,EAAQ,IACxBC,eAAgB,EAAQ,IACxBC,cAAe,EAAQ,IACvBC,kBAAmB,EAAQ,IAC3BC,gBAAiB,EAAQ,IACzBC,cAAe,EAAQ,IACvBC,aAAc,EAAQ,IACtBC,cAAe,EAAQ,IACvBC,kBAAmB,EAAQ,IAC3BC,gBAAiB,EAAQ,IACzBC,qBAAsB,EAAQ,IAC9BC,kBAAmB,EAAQ,IAC3BC,aAAc,EAAQ,IACtBC,kBAAmB,EAAQ,IAC3BC,kBAAmB,EAAQ,IAC3BC,cAAe,EAAQ,IACvBC,eAAgB,EAAQ,IACxBC,cAAe,EAAQ,IACvBC,kBAAmB,EAAQ,IAC3BC,gBAAiB,EAAQ,IACzBC,aAAc,EAAQ,IACtBC,oBAAqB,EAAQ,IAC7BC,YAAa,EAAQ,GACrBC,iBAAkB,EAAQ,IAC1BvK,eAAgB,EAAQ,IACxBwK,cAAe,EAAQ,IACvBC,cAAe,EAAQ,IACvBxK,gBAAiB,EAAQ,IACzBE,eAAgB,EAAQ,IACxBuK,cAAe,EAAQ,IACvBtK,wBAAyB,EAAQ,IACjCuK,gBAAiB,EAAQ,IACzBC,eAAgB,EAAQ,IACxBC,kBAAmB,EAAQ,IAC3BC,eAAgB,EAAQ,IACxBC,oBAAqB,EAAQ,IAC7BC,eAAgB,EAAQ,IACxBC,YAAa,EAAQ,M,gBClDvB,MAAMzL,EAAmB,EAAQ,GAC3BiJ,EAAqB,EAAQ,GAC7B6B,EAAc,EAAQ,GACtB3B,EAAmB,EAAQ,GAC3BoE,EAAc,EAAQ,IACtBC,EAAY,EAAQ,IAE1B,MAAM3E,UAAwB7I,EAC5B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,cACXzB,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,IAGnB,eACE,OAAO,IAAIwO,EAAqBrQ,MAGlC,OACE,OAAO,IAAIgV,EAAahV,MAG1B,WAAYnC,GACV,OAAO,IAAI2S,EAAmBxQ,KAAMnC,GAGtC,gBACE,OAAO,IAAIgT,EAAsB7Q,MAGnC,WACE,OAAO,IAAI0Q,EAAiB1Q,MAAMiV,WAGpC,WACE,OAAO,IAAInE,EAAiB9Q,MAG9B,OACE,OAAO,IAAIkV,EAAalV,MAG1B,YACE,OAAO,IAAIkR,EAAkBlR,MAG/B,UACE,OAAO,IAAImR,EAAgBnR,MAG7B,OACE,MAAO,CACLmV,KAAM,IAAM,IAAIC,EAAiBpV,MACjCqV,MAAO,IAAM,IAAIC,EAAkBtV,OAIvC,YACE,OAAO,IAAI8H,EAAkB9H,MAG/B,OACE,OAAO,IAAIuV,EAAavV,MAG1B,eACE,OAAO,IAAIyR,EAAqBzR,MAGlC,YACE,OAAO,IAAI4R,EAAkB5R,MAG/B,YACE,OAAO,IAAI0R,EAAkB1R,MAG/B,UACE,MAAO,CACLwV,OAAQ,IAAM,IAAIC,EAAsBzV,OAI5C,YACE,OAAO,IAAI6R,EAAkB7R,MAG/B,QACE,OAAO,IAAI8R,EAAc9R,MAG3B,SACE,MAAO,CACL0V,MAAO,IAAM,IAAIC,EAAmB3V,MACpC4V,MAAO,IAAM,IAAIC,EAAmB7V,OAIxC,YACE,OAAO,IAAIiS,EAAkBjS,MAG/B,UACE,OAAO,IAAIkS,EAAgBlS,MAG7B,MACE,OAAO,IAAIqS,EAAYrS,MAAM,GAG/B,QACE,OAAO,IAAIwS,EAAcxS,MAG3B,UACE,OAAO,IAAIgI,EAAgBhI,MAG7B,QACE,OAAO,IAAIyS,EAAczS,MAG3B,SACE,OAAO,IAAI2S,EAAe3S,MAG5B,eACE,OAAO,IAAI0Q,EAAiB1Q,MAAM8V,eAGpC,SACE,OAAO,IAAIC,EAAe/V,MAG5B,cACE,OAAO,IAAI8S,EAAoB9S,MAIjC,OACE,OAAO8U,EAAY9U,OAIvB,MAAMqQ,UAA6B9I,EACjC,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,2BACXzB,KAAKc,iBAAkB,EACvBd,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAK6B,UAAY,IAGnB,MACE,OAAOH,QAAQC,OAAO,IAAIC,MAAM,2CAGlC,IAAKa,GACH,OAAIA,EACK+E,MAAMrJ,IAAIsE,GAKZzC,KAAK0K,MAGd,MACE,OAAOlD,MAAMrJ,IAAI,IAAI,IAIzB,MAAM6W,UAAqBzN,EACzB,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,mBACXzB,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAMgP,UAA8BtJ,EAClC,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,4BACXzB,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,IAGnB,YACE,aAAamU,EAAiBhW,MAAQ,GAAKwH,MAAMrJ,OAIrD,MAAM2S,UAAyBvJ,EAC7B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,uBACXzB,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,IAGnB,YACE,aAAamU,EAAiBhW,MAAQ,GAAKwH,MAAMrJ,OAIrD,MAAM+W,UAAqB3N,EACzB,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,mBACXzB,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAMqP,UAA0B3J,EAC9B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,wBACXzB,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAMsP,UAAwB5J,EAC5B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,sBACXzB,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAMuT,UAAyB7N,EAC7B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,wBACXzB,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAMyT,UAA0B/N,EAC9B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,yBACXzB,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAMiG,UAA0BP,EAC9B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,wBACXzB,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAM0T,UAAqBhO,EACzB,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,mBACXzB,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,IAGnB,YACE,MAAMuC,QAAiBoD,MAAMrJ,MAE7B,OAAwB,IAApBiG,EAASxB,OAAqB,EAC3BwB,EAAS,GAAG7F,OAIvB,MAAMkT,UAA6BlK,EACjC,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,2BACXzB,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAM6P,UAA0BnK,EAC9B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,wBACXzB,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,IAGnB,YACE,aAAamU,EAAiBhW,MAAQ,GAAKwH,MAAMrJ,OAIrD,MAAMyT,UAA0BrK,EAC9B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,wBACXzB,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAM4T,UAA8BlO,EAClC,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,6BACXzB,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAMgQ,UAA0BtK,EAC9B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,wBACXzB,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAMiQ,UAAsBvK,EAC1B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,oBACXzB,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAM8T,UAA2BpO,EAC/B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,2BACXzB,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAMgU,UAA2BtO,EAC/B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,2BACXzB,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAMoQ,UAA0B1K,EAC9B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,wBACXzB,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAMqQ,UAAwB3K,EAC5B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,sBACXzB,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAM2Q,UAAsBjL,EAC1B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,oBACXzB,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,IAGnB,YACE,aA4DJqF,eAAkC+O,GAChC,MAAMC,QAAgB,IAAI9F,EAAgB6F,GAAkB/U,OAAO,cAAc/C,MACjF,OAAO,IAAIgY,KAAKD,EAAQE,eAAiBrB,EAAUsB,qBA9DpCC,CAAkBtW,MAAQ,GAAKwH,MAAMrJ,OAItD,MAAM6J,UAAwBT,EAC5B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,sBACXzB,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAM4Q,UAAsBlL,EAC1B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,oBACXzB,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAM8Q,UAAuBpL,EAC3B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,qBACXzB,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAMkU,UAAuBxO,EAC3B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,qBACXzB,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAMiR,UAA4BvL,EAChC,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,0BACXzB,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,IAGnB,YACE,aAAamU,EAAiBhW,MAAQ,GAAKwH,MAAMrJ,OAKrD+I,eAAe8O,EAAkBC,GAC/B,MAAMC,QAAgB,IAAI9F,EAAgB6F,GAAkB/U,OAAO,cAAc/C,MACjF,OAAO,IAAIgY,KAAKD,EAAQE,eAAiBrB,EAAUwB,oBASrDlZ,EAAOD,QAAUgT,G,6BC7bjB,IACIoG,EADAC,EAAMzY,OAAOkB,UAAUC,eAU3B,SAASuX,EAAOlI,GACd,IACE,OAAOmI,mBAAmBnI,EAAMlI,QAAQ,MAAO,MAC/C,MAAOsG,GACP,OAAO,MAoGXxP,EAAQ0C,UA1CR,SAAwB8W,EAAKC,GAC3BA,EAASA,GAAU,GAEnB,IACItY,EACAM,EAFAiY,EAAQ,GASZ,IAAKjY,IAFD,iBAAoBgY,IAAQA,EAAS,KAE7BD,EACV,GAAIH,EAAIhZ,KAAKmZ,EAAK/X,GAAM,CAkBtB,IAjBAN,EAAQqY,EAAI/X,KAMa,OAAVN,GAAkBA,IAAUiY,IAASO,MAAMxY,KACxDA,EAAQ,IAGVM,EAAMyJ,mBAAmBzJ,GACzBN,EAAQ+J,mBAAmB/J,GAMf,OAARM,GAA0B,OAAVN,EAAgB,SACpCuY,EAAM9R,KAAKnG,EAAK,IAAKN,GAIzB,OAAOuY,EAAMlU,OAASiU,EAASC,EAAMjT,KAAK,KAAO,IAOnDzG,EAAQyC,MA3ER,SAAqBuG,GAKnB,IAJA,IAEI4Q,EAFAC,EAAS,sBACTpS,EAAS,GAGNmS,EAAOC,EAAOC,KAAK9Q,IAAQ,CAChC,IAAIvH,EAAM6X,EAAOM,EAAK,IAClBzY,EAAQmY,EAAOM,EAAK,IAUZ,OAARnY,GAA0B,OAAVN,GAAkBM,KAAOgG,IAC7CA,EAAOhG,GAAON,GAGhB,OAAOsG,I;;;;;;GCtDTxH,EAAOD,QAAU,SAAgB+Z,GAC/B,IAAKvM,MAAMC,QAAQsM,GACjB,MAAM,IAAInQ,UAAU,kCAMtB,IAHA,IAAIoQ,EAAMD,EAAIvU,OACVtF,GAAK,EAEFA,IAAM8Z,GAGX,IAFA,IAAIC,EAAI/Z,EAAI,EAEL+Z,EAAIF,EAAIvU,SAAUyU,EACnBF,EAAI7Z,KAAO6Z,EAAIE,IACjBF,EAAIlI,OAAOoI,IAAK,GAItB,OAAOF,GAGT9Z,EAAOD,QAAQyF,UAAY,SAAyBsU,GAClD,IAAKvM,MAAMC,QAAQsM,GACjB,MAAM,IAAInQ,UAAU,kCAMtB,IAHA,IAAIsQ,EAASH,EAAIvU,OACb2U,EAAS,IAAI3M,MAAM0M,GAEdha,EAAI,EAAGA,EAAIga,EAAQha,IAC1Bia,EAAOja,GAAK6Z,EAAI7Z,GAGlB,OAAOD,EAAOD,QAAQma,K,8BCvCvB,WAEG,SAAS/X,EAAOgY,EAAYlT,GAExB,IAAIO,EAAS,GAGbP,EAAOmT,SAASnT,IAAS,EAGzB,IAAK,IAAI3E,EAAI,EAAGA,EAAImF,KAAKC,KAAKyS,EAAW5U,OAAS0B,GAAO3E,IAAK,CAE1D,IAAI+X,EAAQ/X,EAAI2E,EACZqT,EAAMD,EAAQpT,EAElBO,EAAOG,KAAKwS,EAAW/L,MAAMiM,EAAOC,IAIxC,OAAO9S,EAM8BxH,EAAOD,UACxCA,EAAUC,EAAOD,QAAUoC,GAE/BpC,EAAQoC,MAAQA,IAKtB/B,KAAKuC,O,gBCnCP,MAAM4X,EAAc,EAAQ,IAA0CnD,QAEtE,IAAIxP,EAAQ,GAUZ5H,EAAOD,QARP,SAAekE,GAKb,OAJK2D,EAAM3D,KACT2D,EAAM3D,GAAUsW,EAAYtW,IAGvB2D,EAAM3D,K,6BCPftD,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IAsCtDnB,EAAQqX,QAlCR,SAA2BoD,GAMzB,IALA,IAGIC,EAHAva,EAAIsa,EAAIjV,OACRmV,EAAIxa,EAAIA,EACRD,EAAI,EAGDC,GAAK,GAEVua,EAAmB,YAAV,OADTA,EAAwB,IAApBD,EAAIG,WAAW1a,IAAmC,IAAtBua,EAAIG,aAAa1a,KAAc,GAA2B,IAAtBua,EAAIG,aAAa1a,KAAc,IAA4B,IAAtBua,EAAIG,aAAa1a,KAAc,OACzF,YAAZwa,IAAM,IAAmB,QAAW,IAGvEC,EAAmB,YAAV,MAAJA,KAA0C,YAAZA,IAAM,IAAmB,QAAW,KADvED,EAAmB,YAAV,OADTA,GAAKA,IAAM,OACoC,YAAZA,IAAM,IAAmB,QAAW,KAEvEva,GAAK,IACHD,EAGJ,OAAQC,GACN,KAAK,EACHwa,IAA8B,IAAxBF,EAAIG,WAAW1a,EAAI,KAAc,GAEzC,KAAK,EACHya,IAA8B,IAAxBF,EAAIG,WAAW1a,EAAI,KAAc,EAEzC,KAAK,EAEHya,EAAmB,YAAV,OADTA,GAAyB,IAApBF,EAAIG,WAAW1a,OAC2B,YAAZya,IAAM,IAAmB,QAAW,IAM3E,OAFAA,EAAmB,YAAV,OADTA,GAAKA,IAAM,OACoC,YAAZA,IAAM,IAAmB,QAAW,MACvEA,GAAKA,IAAM,MACG,GAAGE,SAAS,M,gBCrC5B,MAAMvV,EAAO,EAAQ,IACfiN,EAAO,EAAQ,GAyFrB,SAASuI,EAAMvN,GACb,MAAO,IAAM,IAAIjJ,QAAQ,CAACY,EAASX,KACjCgJ,IACGxI,KAAKxC,GAAK2C,EAAQ3C,IAClBuE,MAAMC,IACL,IAAIE,EAAS3B,EAAKyB,EAAK,mBACnBiD,EAAO1E,EAAKyB,EAAK,gBAErB,GAAIE,GAAU+C,EAEZ,OADA7F,QAAQ4W,mBAAmB/Q,MAAS/C,MAC7B/B,EAAQ,MAGjBX,EAAOwC,OAiBf,SAASiU,EAAMpZ,EAAQH,EAAKN,GAC1B,MAAM8Z,EAAWxZ,EAAIqH,MAAM,KAE3B,IAAIoS,EAAUtZ,EACdqZ,EAASE,QAAQ,CAAC1Z,EAAKwG,KAEhBiT,EAAQzZ,KACXyZ,EAAQzZ,GAAO,IAIbwG,IAAUgT,EAASzV,OAAS,EAMhC0V,EAAUA,EAAQzZ,GALhByZ,EAAQzZ,GAAON,IASrBlB,EAAOD,QA1IP,SAAe2C,GACb,MAAME,EAASF,EAAOE,OAEhB0D,EAAW,CACfuS,QAASgC,EAAK,IAAMjY,EAAOiW,UAAU/X,OACrCqa,aAAcN,EAAK,IAAMjY,EAAOiW,UAAUsC,eAAera,OACzDsa,KAAMP,EAAK,IAAMjY,EAAOiW,UAAUuC,OAAOta,OACzCua,WAAYR,EAAK,IAAMjY,EAAOyY,aAAahO,OAC3C,gBAAiBwN,EAAK,IAAMjY,EAAO0Y,WAAW7C,eAAe9L,UAAUC,OAAOS,OAC9E,iBAAkBwN,EAAK,IAAMjY,EAAO0Y,WAAW7C,eAAe9L,UAAUG,QAAQO,OAChF,oBAAqBwN,EAAK,IAAMjY,EAAO0Y,WAAW1D,WAAW9W,OAC7Dya,SAAUV,EAAK,IAAMjY,EAAOiW,UAAU0C,WAAWza,OACjD0a,KAAMX,EAAK,IAAMjY,EAAOiW,UAAU2C,OAAO1a,OACzC2a,QAASZ,EAAK,IAAMjY,EAAOiW,UAAU4C,UAAU3a,OAC/C4a,UAAWb,EAAK,IAAMjY,EAAOiW,UAAU6C,YAAY5a,OACnD,YAAa+Z,EAAK,IAAMjY,EAAOiW,UAAU8C,OAAO7D,OAAOhX,OACvD,aAAc+Z,EAAK,IAAMjY,EAAOiW,UAAU8C,OAAO3D,QAAQlX,OACzD8a,OAAQf,EAAK,KA+BjB,SAAwBjY,GACtB,OAAOA,EAAOiW,UAAU/X,MAAMgE,KAAK+T,IACjC,IAAKA,EAAQgD,aACX,MAAO,GAGT,IAAIvV,EAAWuS,EAAQgD,aAAalW,IAAIP,GAAMyV,EAAK,KAIrD,SAAoBzV,GAClB,IAAIkB,EAAW,CACbwV,KAAMjB,EAAK,IAAMjY,EAAOmZ,QAAQjb,IAAIsE,IACpC4W,QAASnB,EAAK,IAAMjY,EAAOmZ,MAAM3W,GAAI4W,UAAUlb,OAC/Cmb,MAAOpB,EAAK,IAAMjY,EAAOmZ,MAAM3W,GAAI6W,QAAQnb,OAC3Cob,MAAOrB,EAAK,IAAMjY,EAAOmZ,MAAM3W,GAAI8W,QAAQpb,OAC3Cqb,MAAOtB,EAAK,IAAMxW,QAAQY,QAAQ,OAClCmX,SAAUvB,EAAK,IAAMjY,EAAOmZ,MAAM3W,GAAIgX,WAAWtb,OACjDub,SAAUxB,EAAK,IAAMjY,EAAOmZ,MAAM3W,GAAIiX,WAAWvb,QAGnD,OAAOwR,EAAKpF,SAAS5G,IAfoCgW,CAAUlX,KACnE,OAAOkN,EAAKpF,SAAS5G,MAtCFiW,CAAc3Z,IACjC4Z,KAAM3B,EAAK,IAAMjY,EAAOiW,UAAU2D,OAAO1b,OACzC2b,aAAc5B,EAAK,IAAMjY,EAAOiW,UAAU4D,eAAe3b,OACzD4b,UAAW7B,EAAK,IAAMjY,EAAOiW,UAAU6D,YAAY5b,OACnD,iBAAkB+Z,EAAK,IAAMjY,EAAOiW,UAAU8D,UAAUxE,SAASrX,OACjE8b,UAAW/B,EAAK,IAAMjY,EAAOiW,UAAU+D,YAAY9b,OACnD+b,MAAOhC,EAAK,IAAMjY,EAAOiW,UAAUgE,QAAQ/b,OAC3C,eAAgB+Z,EAAK,IAAMjY,EAAOiW,UAAUiE,SAASzE,QAAQvX,OAC7D,eAAgB+Z,EAAK,IAAMjY,EAAOiW,UAAUiE,SAASvE,QAAQzX,OAC7Dic,UAAWlC,EAAK,IAAMjY,EAAOiW,UAAUkE,YAAYjc,OACnDkc,QAASnC,EAAK,IAAMjY,EAAOiW,UAAUmE,UAAUlc,OAC/C,YAAa+Z,EAAK,IAAMjY,EAAOiW,UAAUoE,MAAMC,QAAQ7P,OACvD,aAAcwN,EAAK,IAAMjY,EAAOiW,UAAUoE,MAAME,SAASrc,OACzD,gBAAiB+Z,EAAK,IAAMjY,EAAOiW,UAAUoE,MAAMG,YAAYtc,OAC/D,YAAa+Z,EAAK,IAAMjY,EAAOiW,UAAUoE,MAAMI,QAAQvc,OACvDwc,MAAOzC,EAAK,IAAMjY,EAAOiW,UAAUyE,QAAQxc,OAC3CwK,QAASuP,EAAK,IAAMjY,EAAOiW,UAAUvN,UAAUxK,OAC/Cyc,OAAQ1C,EAAK,IAAMjY,EAAOiW,UAAU2E,YAAY1c,OAChDuX,MAAOwC,EAAK,IAAMjY,EAAOiW,UAAUR,QAAQvX,OAC3C2c,OAAQ5C,EAAK,IAAMjY,EAAOiW,UAAU4E,SAAS3c,OAC7C4c,OAAQ7C,EAAK,IAAMjY,EAAOiW,UAAU6E,SAAS5c,QAG/C,OAAOwR,EAAKpF,SAAS5G,GAAUxB,KAAKgX,KAClCA,EAiEJ,SAAoBna,GAClB,IAAI6F,EAAS,GAEb,IAAK,IAAIhG,KAAOG,EACdoZ,EAAKvT,EAAQhG,EAAKG,EAAOH,IAG3B,OAAOgG,EAxEEmW,CAAU7B,IACZT,WAiCT,SAA+BA,GAE7B,IAAKA,EACH,OAAO,KAGT,OAAOA,EAAWzV,OAAOtD,IAAMA,EAAEsb,QAAUtb,EAAEsb,MAAMC,SAAS,SAvCxCC,CAAqBhC,EAAKT,YACrCS,KAgGX9b,EAAOD,QAAQ8a,KAAOA,G,cC9ItB,MAAMkD,EAA0B,SAC1BC,EAAyB,SAE/Bhe,EAAOD,QAAU,SAAU4B,EAAQsc,EAAMC,GAEvC,IAAKvc,GAAUhB,OAAOgB,KAAYA,EAChC,OAAOuc,EAUT,OAGF,SAAcvc,EAAQsc,EAAMC,GAC1B,IAAIvR,EAAUhL,EAEd,IAAK,MAAMwc,KAAWF,EAGpB,GAAe,OAFftR,EAAUA,EAAQwR,IAGhB,OAAOD,EAIX,OAAOvR,EAdA7L,CAAIa,EAJO4L,MAAMC,QAAQyQ,GAC5BA,EACAA,EAAKhV,QAAQ8U,EAAyB,IAAI9U,QAAQ+U,EAAwB,KAAKnV,MAAM,KAE3DqV,K,cChBhC,MAAME,EAAS,MAEf,SAASC,EAAeta,EAAMua,GAC5B,OAAO,IAAIxF,KAAK/U,EAAKwa,cAActV,QAAQ,WAAYqV,WAGzD,SAASE,EAAeza,GAItB,OAHAA,EAAOA,EAAO,IAAI+U,KAAK/U,GAAQ,IAAI+U,KAG5BuF,EADPta,EAAO,IAAI+U,KAAK/U,EAAK0a,UAAYL,GACN,YAO7B,SAASM,EAAgB3a,GAGvB,MAAM4a,GAFN5a,EAAOA,EAAO,IAAI+U,KAAK/U,GAAQ,IAAI+U,MAEd8F,YACfC,EAAQ9a,EAAK+a,cACbC,EAAUhb,EAAKib,gBACrB,IAAIC,EAAU,EAEd,OAAQN,GACN,KAAK,EAEHM,EAAU,EACV,MACF,KAAK,EAIHA,EADkBJ,EAAQ,GAAgB,IAAVA,GAAeE,GAAW,GACpC,EAAI,EAC1B,MACF,QAMEE,EAAU,EAAIN,EAKlB,OAAON,EADPta,EAAO,IAAI+U,KAAK/U,EAAK0a,UAAYQ,EAAUb,GAChB,YAO7Bpe,EAAOD,QAAU,CACfse,gBACAG,gBACAtF,kBA5CF,SAA4BnV,GAC1B,OAAO,IAAI+U,KAAK0F,EAAcza,GAAM0a,UAAYL,IA4ChDM,iBACA1F,mBATF,SAA6BjV,GAC3B,OAAO,IAAI+U,KAAK4F,EAAe3a,GAAM0a,UAAY,EAAIL,M,gBCnDvD,MAAMlU,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAAmCmK,EAClD,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,mBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKY,iBAAkB,EACvBZ,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,MAGnB,aACE,OAAO,IAAI0a,EAAmBvc,MAGhC,SACE,OAAO,IAAIwc,EAAexc,MAG5B,QACE,OAAO,IAAIyc,EAAczc,MAG3B,gBACE,OAAO,IAAI0c,EAAsB1c,QAIrC,MAAMuc,UAA2BhV,EAC/B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,8BACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,OAIrB,MAAM2a,UAAuBjV,EAC3B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,0BACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,OAIrB,MAAM4a,UAAsBlV,EAC1B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,yBACXzB,KAAK6B,UAAY,MAIrB,MAAM6a,UAA8BnV,EAClC,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,kCACXzB,KAAK6B,UAAY,Q,gBChErB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAAgCmK,EAC/C,UACE,OAAO,IAAIoV,EAAgB3c,MAG7B,YACE,OAAO,IAAI4c,EAAkB5c,QAIjC,MAAM2c,UAAwBpV,EAC5B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,wBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKY,iBAAkB,EACvBZ,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,OAIrB,MAAM+a,UAA0BrV,EAC9B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,0BACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKY,iBAAkB,EACvBZ,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,S,gBChCrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAA4BmK,EAC3C,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,YACXzB,KAAK6B,UAAY,GAGnB,MACE,OAAO2F,MAAMrJ,MAAMgE,KAAK0C,GAAUA,EAAOpC,O,gBCV7C,MAAM8E,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAA2BmK,EAC1C,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,WACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAK6B,UAAY,S,gBCRrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAA6BmK,EAC5C,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,aACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,S,gBCTrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAAiCmK,EAChD,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,iBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,MAGnB,OAAQY,GACN,OAAO,IAAIoa,EAAe7c,KAAMyC,KAIpC,MAAMoa,UAAuBtV,EAC3B,YAAatH,EAAQ6c,GACnBtV,MAAMvH,GACND,KAAKyB,sBAAwBqb,WAC7B9c,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAK6B,UAAY,S,gBCvBrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAAiCmK,EAChD,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,iBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,S,gBCTrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAAoCmK,EACnD,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,oBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,S,gBCTrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAA+BmK,EAC9C,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,eACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAK6B,UAAY,S,gBCRrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAA6BmK,EAC5C,cACE,OAAO,IAAIwV,EAAe/c,KAAM,eAGlC,cACE,OAAO,IAAI+c,EAAe/c,KAAM,iBAIpC,MAAM+c,UAAuBxV,EAC3B,YAAatH,EAAQ+c,GACnBxV,MAAMvH,GACND,KAAKyB,kBAAoBub,IACzBhd,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAK6B,UAAY,S,gBClBrB,MAAM0F,EAAmB,EAAQ,GAkBjC,SAAS0V,EAAmBrY,GAC1B,IAAIsY,EAAStY,EAAKsY,OACdC,EAAc,GAClB,MAAM7X,EAAOtH,OAAOsH,KAAK4X,GAEzB,IAAK,IAAI5f,EAAI,EAAGA,IAAMgI,EAAK1C,OAAQtF,IACjC6f,EAAYnY,KAAKhH,OAAOqI,OAAO,CAAE5D,GAAI6C,EAAKhI,IAAM4f,EAAO5X,EAAKhI,MAG9D,OAAO6f,EAzBT9f,EAAOD,QAAU,cAA6BmK,EAC5C,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,yBACXzB,KAAK6B,UAAY,MAGnB,MACE,OAAO2F,MAAMrJ,MAAMgE,KAAK8a,GAG1B,IAAKxa,GACH,OAAO+E,MAAMrJ,iBAAiBsE,KAAM,GAAMN,KAAKyC,GAAQqY,EAAkBrY,GAAM,O,gBCdnF,MAAM2C,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAA4BmK,EAC3C,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,YACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAK6B,UAAY,S,gBCRrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAAgCmK,EAC/C,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,gBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,S,gBCTrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAA8BmK,EAC7C,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,cACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,S,gBCTrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAA4BmK,EAC3C,YAAatH,EAAQwC,GACnB+E,MAAMvH,GACND,KAAKyC,GAAKA,EACVzC,KAAKyB,IAAM,YACXzB,KAAKc,iBAAkB,EACvBd,KAAKe,2BAA4B,EACjCf,KAAK6B,UAAY,KAGnB,IAAKY,GACH,OAAO+E,MAAMrJ,QAAQsE,KAAM,GAG7B,cACE,OAAO,IAAI2a,EAAoBpd,MAGjC,OAAQnC,GACN,OAAO,IAAIwf,EAAerd,KAAMnC,GAGlC,WACE,YAAgBgI,IAAZ7F,KAAKyC,GACA,IAAI6a,EAAoBtd,MAG1B,IAAIud,EAAiBvd,KAAMA,KAAKyC,IAGzC,MACE,OAAO,IAAI+a,EAAYxd,KAAMA,KAAKyC,IAGpC,UACE,OAAO,IAAIgb,EAAgBzd,KAAMA,KAAKyC,IAGxC,QACE,OAAO,IAAI2G,EAAcpJ,KAAMA,KAAKyC,IAGtC,QACE,OAAO,IAAIib,EAAc1d,KAAMA,KAAKyC,IAGtC,UACE,OAAO,IAAIkb,EAAgB3d,KAAMA,KAAKyC,IAGxC,QACE,OAAO,IAAImb,EAAc5d,KAAMA,KAAKyC,IAGtC,WACE,OAAO,IAAIob,EAAiB7d,KAAMA,KAAKyC,MAI3C,MAAM2a,UAA4B7V,EAChC,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,wBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,OAIrB,MAAMwb,UAAuB9V,EAC3B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,mBACXzB,KAAK6B,UAAY,KAGnB,KAAMhE,GACJ,OAAO2J,MAAMrJ,aAAamK,mBAAmBzK,MAAS,GACnDsE,KAAK0C,GAAUA,EAAO,KAI7B,MAAMyY,UAA4B/V,EAChC,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,qBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,OAIrB,MAAM2b,UAAoBjW,EACxB,YAAatH,EAAQwC,GACnB+E,MAAMvH,GACND,KAAKyB,iBAAmB6G,mBAAmB7F,SAC3CzC,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,IAGnB,MAAOic,GACL,OAAOtW,MAAMrJ,cAAc2f,KAAS,IAIxC,MAAML,UAAwBlW,EAC5B,YAAatH,EAAQwC,GACnB+E,MAAMvH,GACND,KAAKyB,iBAAmB6G,mBAAmB7F,aAC3CzC,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAMuH,UAAsB7B,EAC1B,YAAatH,EAAQwC,GACnB+E,MAAMvH,GACND,KAAKyB,iBAAmB6G,mBAAmB7F,WAC3CzC,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAM6b,UAAsBnW,EAC1B,YAAatH,EAAQwC,GACnB+E,MAAMvH,GACND,KAAKyB,iBAAmB6G,mBAAmB7F,WAC3CzC,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAM8b,UAAwBpW,EAC5B,YAAatH,EAAQwC,GACnB+E,MAAMvH,GACND,KAAKyB,iBAAmB6G,mBAAmB7F,aAC3CzC,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAM+b,UAAsBrW,EAC1B,YAAatH,EAAQwC,GACnB+E,MAAMvH,GACND,KAAKyB,iBAAmB6G,mBAAmB7F,WAC3CzC,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAMgc,UAAyBtW,EAC7B,YAAatH,EAAQwC,GACnB+E,MAAMvH,GACND,KAAKyB,iBAAmB6G,mBAAmB7F,cAC3CzC,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,KAIrB,MAAM0b,UAAyBhW,EAC7B,YAAatH,EAAQwC,GACnB+E,MAAMvH,GACND,KAAKyB,iBAAmB6G,mBAAmB7F,cAC3CzC,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,O,gBCxKrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAA2BmK,EAC1C,OACE,OAAO,IAAIgJ,EAAavQ,MAG1B,QACE,OAAO,IAAIgS,EAAchS,QAI7B,MAAMuQ,UAAqBhJ,EACzB,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,gBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAK6B,UAAY,OAIrB,MAAMmQ,UAAsBzK,EAC1B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,iBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAK6B,UAAY,S,gBC5BrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAA4BmK,EAC3C,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,YACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKY,iBAAkB,EACvBZ,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,S,gBCVrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAAgCmK,EAC/C,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,gBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,S,gBCTrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAA8BmK,EAC7C,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,cACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAK6B,UAAY,S,gBCRrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAAmCmK,EAClD,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,mBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,S,gBCTrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAAgCmK,EAC/C,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,gBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,S,gBCTrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAA2BmK,EAC1C,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,WACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,S,gBCTrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAAgCmK,EAC/C,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,gBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,S,gBCTrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAAgCmK,EAC/C,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,gBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,S,gBCTrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAA4BmK,EAC3C,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,YACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,S,gBCTrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAA6BmK,EAC5C,QACE,OAAO,IAAIkL,EAAczS,MAG3B,QACE,OAAO,IAAI+d,EAAc/d,QAI7B,MAAMyS,UAAsBlL,EAC1B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,mBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,OAIrB,MAAMkc,UAAsBxW,EAC1B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,mBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,S,gBC9BrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAA4BmK,EAC3C,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,YACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAK6B,UAAY,S,gBCRrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAAgCmK,EAC/C,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,gBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,S,gBCTrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAA8BmK,EAC7C,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,cACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,S,gBCTrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAA2BmK,EAC1C,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,WACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,S,gBCTrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAAkCmK,EACjD,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,kBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,S,gBCTrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAA+BmK,EAC9C,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,eACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAK6B,UAAY,S,gBCRrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAA6BmK,EAC5C,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,aACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,S,gBCTrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAA4BmK,EAC3C,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,YACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,S,gBCTrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAA4BmK,EAC3C,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,YACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAK6B,UAAY,S,gBCRrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAA8BmK,EAC7C,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,cACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKY,iBAAkB,EACvBZ,KAAK6B,UAAY,MAGnB,SACE,OAAO,IAAIwb,EAAerd,QAI9B,MAAMqd,UAAuB9V,EAC3B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,qBACXzB,KAAK6B,UAAY,MAGnB,MAAOY,GACL,OAAO+E,MAAMrJ,cAAcsE,KAAM,GAGnC,OAAQA,GACN,OAAO+E,MAAMrJ,eAAesE,KAAM,M,gBC7BtC,MAAM8E,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAA6BmK,EAC5C,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,aACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,S,gBCTrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAA4BmK,EAC3C,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,YACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKY,iBAAkB,EACvBZ,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,S,gBCVrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAAsCmK,EACrD,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,sBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,S,gBCTrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAA8BmK,EAC7C,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,cACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,MAGnB,UACE,OAAO,IAAIwH,EAAgBrJ,QAI/B,MAAMqJ,UAAwB9B,EAC5B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,sBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,S,gBCxBrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAA6BmK,EAC5C,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,aACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,S,gBCTrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAAgCmK,EAC/C,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,gBACXzB,KAAKc,iBAAkB,EACvBd,KAAK6B,UAAY,M,gBCPrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAA6BmK,EAC5C,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,aACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,S,gBCTrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAAkCmK,EACjD,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,kBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,S,gBCTrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAA6BmK,EAC5C,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,aACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,S,gBCTrB,MAAM0F,EAAmB,EAAQ,GAEjClK,EAAOD,QAAU,cAA0BmK,EACzC,YACE,OAAO,IAAIyW,EAAkBhe,MAG/B,UACE,OAAO,IAAIie,EAAgBje,MAG7B,aACE,OAAO,IAAIke,EAAmBle,MAGhC,WACE,OAAO,IAAIud,EAAiBvd,MAG9B,QACE,OAAO,IAAIoJ,EAAcpJ,QAI7B,MAAMge,UAA0BzW,EAC9B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,oBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,OAIrB,MAAMoc,UAAwB1W,EAC5B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,kBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAK6B,UAAY,GAGnB,MAAOsc,GACL,OAAO3W,MAAMrJ,cAAcggB,KAAW,GAGxC,WACE,OAAO,IAAIC,EAAwBpe,MAGrC,SACE,OAAO,IAAIqe,EAAsBre,MAGnC,MAAOyC,GACL,OAAO,IAAI6b,EAAqBte,KAAMyC,IAI1C,MAAMmb,UAAsBrW,EAC1B,YAAatH,EAAQwC,EAAI8b,GACvB/W,MAAMvH,GACND,KAAKue,KAAOA,EACZve,KAAKyC,GAAKA,EACVzC,KAAKyB,6BAA+BgB,UAGtC,IAAK+b,GACH,OAAO,IAAIC,EAAiBze,KAAMA,KAAKyC,GAAIzC,KAAKue,KAAMC,IAI1D,MAAMC,UAAyBlX,EAC7B,YAAatH,EAAQwC,EAAI8b,EAAMC,GAC7BhX,MAAMvH,GACND,KAAKwe,MAAQA,EACbxe,KAAKyB,6BAA+BgB,WAAY8b,SAAYC,KAIhE,MAAMJ,UAAgC7W,EACpC,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,2BACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAK6B,UAAY,GAGnB,MAAOsc,GACL,OAAO3W,MAAMrJ,cAAcggB,KAAW,IAI1C,MAAME,UAA8B9W,EAClC,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,yBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAK6B,UAAY,GAGnB,MAAOsc,GACL,OAAO3W,MAAMrJ,cAAcggB,KAAW,IAI1C,MAAMG,UAA6B/W,EACjC,YAAatH,EAAQwC,GACnB+E,MAAMvH,GACND,KAAKyC,GAAKA,EACVzC,KAAKyB,IAAM,wBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAK6B,UAAY,GAGnB,MAAOsc,GACL,OAAO3W,MAAMrJ,cAAcggB,KAAW,GAGxC,MAAOI,GACL,OAAO,IAAIX,EAAc5d,KAAMA,KAAKyC,GAAI8b,IAI5C,MAAML,UAA2B3W,EAC/B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,qBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,OAIrB,MAAM0b,UAAyBhW,EAC7B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,mBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,OAIrB,MAAMuH,UAAsB7B,EAC1B,YAAatH,GACXuH,MAAMvH,GACND,KAAKyB,IAAM,gBACXzB,KAAKS,aAAc,EACnBT,KAAKW,QAAS,EACdX,KAAKa,aAAc,EACnBb,KAAK6B,UAAY,S,6BC9JrB,kBAEA,MAAM6c,EAAyB,CAC3B,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MAGEC,EAAkB,CACpBC,KAAM,EACNC,KAAM,EACNC,KAAM,GACNC,KAAM,GACNC,KAAM,GACNC,KAAM,GACNC,KAAM,GACNC,KAAM,GAGJC,EAAY,CACdC,KAAM,IACNC,UAAW,IACXC,KAAM,IACNC,OAAQ,IACRC,SAAU,IACVC,MAAO,IACPC,IAAK,IACLC,OAAQ,IACRC,MAAO,IACPC,WAAY,IACZC,OAAQ,IACRC,MAAO,IACPC,QAAS,IACTC,KAAM,IACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,IACTC,OAAQ,IACRC,SAAU,IACVC,SAAU,IACVC,MAAO,IACPC,MAAO,IACPC,MAAO,IACPC,QAAS,IACTC,QAAS,KAGE,wBAAc,IACzB,kBACI,MAAO,qBAGX,iBACI7gB,KAAK8G,UAAU2G,UAAU,wRACzBzN,KAAK8G,UAAU2G,YAEf,MAAO+K,EAAcsI,EAAqB/F,SAAgBrZ,QAAQgJ,IAAI,CAClE1K,KAAK+G,KAAKyR,eAAexS,KAAK0Y,GAC9B1e,KAAK+G,KAAKmP,UAAUsC,eAAexS,KAAK0Y,GACxC1e,KAAK+G,KAAKmP,UAAU6E,SAAS5c,QAG3B4iB,EAAUvI,EAAaxV,IAAI0D,GAAKA,EAAEsa,KAAKhe,IAAI2D,GAAKA,EAAElE,KAClDiT,EAAQ,IAAIuL,WACPvf,QAAQgJ,IAAIqW,EAAQ/d,IAAIrD,GAAKK,KAAK+G,KAAK2O,QAAQ1P,KAAKrG,MACtDuhB,OACAle,IAAIrD,GAAK,CAACA,EAAE8C,GAAI9C,KAEzB,IAAIkF,EAAS,GACb,IAAK,IAAIsc,KAAe3I,EAAc,CAElC,MAAM4I,EAAqBN,EAAoBO,KAAK3a,GAAKA,EAAEjE,KAAO0e,EAAY1e,IACxE6e,EAAgBF,EAAsBA,EAAmBG,KAAOJ,EAAYH,KAAKhe,IAAI2D,GAAKA,EAAElE,IAAM2e,EAAmBJ,KAAKhe,IAAI2D,GAAKwa,EAAYH,KAAKra,GAAGlE,IAAO,GAC9J+e,EAAcL,EAAYH,KAAK/d,OAAO0D,IAAsC,IAAjC2a,EAAcG,QAAQ9a,EAAElE,KAAYO,IAAI2D,GAAKA,EAAElE,IAG1Fif,EAAcJ,EAActe,IAAIP,GAAM2c,EAAU1J,EAAMvX,IAAIsE,GAAIkf,QAAQhc,OAAO3B,OAAO,CAAC0C,EAAGC,IAAMD,EAAIC,GAClGib,EAAaJ,EAAYxe,IAAIP,GAAM2c,EAAU1J,EAAMvX,IAAIsE,GAAIkf,QAAQhc,OAAO3B,OAAO,CAAC0C,EAAGC,IAAMD,EAAIC,GAC/Fkb,EAAc9G,EAAOsG,KAAK1jB,GAAKA,EAAE8E,KAAOkc,EAAgBwC,EAAY1e,KAAKlE,MAG/EsG,MAAasc,EAAYtjB,UACzBgH,yBAAgCyc,EAAc1e,UAAU0e,EAAc1e,OAAS4e,EAAY5e,WAC3FiC,0BAAiC+c,EAAWE,qBAAqBJ,EAAYI,qBAAqBJ,EAAcE,GAAYE,sBAC5Hjd,6BAAoC+c,EAAaC,EAAc,EAAID,EAAaC,GAAaC,qBAAqBD,EAAYC,oBAAoBF,EAAWE,sBAC7Jjd,GAAU,KAEd,OAAOA,K,6BC5Ff,kBAEAkd,IAAI7iB,UAAU8iB,WAAa,SAASC,GAChC,IAAID,EAAa,IAAID,IAAI/hB,MACzB,IAAK,IAAIkiB,KAAQD,EACbD,EAAWG,OAAOD,GAEtB,OAAOF,GAGI,wBAAc,IACzB,kBACI,MAAO,6BAGX,iBACIhiB,KAAK8G,UAAU2G,UAAU,uIACzBzN,KAAK8G,UAAU2G,YAEf,MAAM+K,QAAqBxY,KAAK+G,KAAKyR,eAAe9N,MAE9C0X,EAAkB,IAAInB,IACtBlH,EAAY,IAAIkH,IACtB,IAAK,IAAIE,KAAe3I,EAAc,CAClC,MAAMwB,EAAUmH,EAAYkB,QAAUlB,EAAYkB,QAAQhB,KAAKjjB,GAAgB,YAAXA,EAAEuH,MAAsB,KACvFqU,IAGAD,EAAUtD,IAAIuD,EAAQvX,KACvBsX,EAAU7U,IAAI8U,EAAQvX,GAAI,IAEzB2f,EAAgB3L,IAAIuD,EAAQtQ,SAC7B0Y,EAAgBld,IAAI8U,EAAQtQ,OAAQ,IAExC0Y,EAAgBjkB,IAAI6b,EAAQtQ,QAAQ1E,KAAKmc,GACzCpH,EAAU5b,IAAI6b,EAAQvX,IAAIuC,KAAKmc,IAGnC,MAAOL,EAAqBwB,SAAuB5gB,QAAQgJ,IAAI,CAC3D1K,KAAK+G,KAAKmP,UAAUsC,eAAera,MACnC6B,KAAK+G,KAAKmP,UAAU8D,UAAUxE,SAASrX,QAErCokB,EAAWD,EAAcC,SACzBC,EAAS5X,MAAM6X,KAAK,IAAIV,IAAIhI,EAAUzU,QAAQ0c,WAAW,IAAID,IAAIO,EAAcC,YAAY9b,OAE3Fic,EAAsBH,EAAStf,OAAOvF,IACxC,MAAM0jB,EAAqBN,EAAoBO,KAAK3a,GAAKqT,EAAUtD,IAAI/Y,IAAMqc,EAAU5b,IAAIT,GAAG2jB,KAAK3jB,GAAKA,EAAE+E,KAAOiE,EAAEjE,KACnH,OAAQ2e,IAAuBA,EAAmBG,OAEhDoB,EAAoBH,EAAOvf,OAAOvF,IACpC,MAAM0jB,EAAqBN,EAAoBO,KAAK3a,GAAKqT,EAAUtD,IAAI/Y,IAAMqc,EAAU5b,IAAIT,GAAG2jB,KAAK3jB,GAAKA,EAAE+E,KAAOiE,EAAEjE,KACnH,OAAO2e,GAAsBA,EAAmBG,OAGpD,IAAI1c,EAAS,GACbA,GAAU,0BACV,IAAK,IAAImV,KAAW0I,EAAqB,CACrC,MAAMvB,EAAcpH,EAAU5b,IAAI6b,GAE9BnV,GADAsc,QACgBnH,QAAcmH,EAAYne,IAAI0D,MAAQA,EAAE7I,SAAS6I,EAAEjE,OAAOoB,KAAK,gBAE/DmW,6BAGxBnV,GAAU,KAEVA,GAAU,wBACV,IAAK,IAAImV,KAAW2I,EAAmB,CACnC,MAAMxB,EAAcpH,EAAU5b,IAAI6b,GAE9BnV,GADAsc,QACgBnH,QAAcmH,EAAYne,IAAI0D,MAAQA,EAAE7I,SAAS6I,EAAEjE,OAAOoB,KAAK,gBAE/DmW,6BAIxB,SAAUnV,S,6BC5ElB,kBAEA,MAAM6Z,EAAyB,CAC3B,KACA,KACA,KACA,KACA,MAGEkE,EAAW,CACbC,KAAM,CACF,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEJC,KAAM,CACF,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEJC,KAAM,CACF,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEJC,KAAM,CACF,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MAC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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 72);\n","const qs = require('querystringify')\nconst unique = require('array-unique')\nconst chunk = require('chunk')\nconst hashString = require('./hash')\n\nconst clone = (x) => JSON.parse(JSON.stringify(x))\n\nmodule.exports = class AbstractEndpoint {\n  constructor (parent) {\n    this.client = parent.client\n    this.schemaVersion = parent.schemaVersion || '2019-03-20T00:00:00.000Z'\n    this.lang = parent.lang\n    this.apiKey = parent.apiKey\n    this.fetch = parent.fetch\n    this.caches = parent.caches\n    this.debug = parent.debug\n\n    this.baseUrl = 'https://api.guildwars2.com'\n    this.isPaginated = false\n    this.maxPageSize = 200\n    this.isBulk = false\n    this.supportsBulkAll = true\n    this.isLocalized = false\n    this.isAuthenticated = false\n    this.isOptionallyAuthenticated = false\n    this.credentials = false\n\n    this._skipCache = false\n  }\n\n  // Set the schema version\n  schema (schema) {\n    this.schemaVersion = schema\n    this.debugMessage(`set the schema to ${schema}`)\n    return this\n  }\n\n  // Check if the schema version includes a specific version\n  _schemaIncludes (date) {\n    return this.schemaVersion >= date\n  }\n\n  // Set the language for locale-aware endpoints\n  language (lang) {\n    this.lang = lang\n    this.debugMessage(`set the language to ${lang}`)\n    return this\n  }\n\n  // Set the api key for authenticated endpoints\n  authenticate (apiKey) {\n    this.apiKey = apiKey\n    this.debugMessage(`set the api key to ${apiKey}`)\n    return this\n  }\n\n  // Set the debugging flag\n  debugging (flag) {\n    this.debug = flag\n    return this\n  }\n\n  // Print out a debug message if debugging is enabled\n  debugMessage (string) {\n    if (this.debug) {\n      console.log(`[gw2api-client] ${string}`)\n    }\n  }\n\n  // Skip caching and get the live data\n  live () {\n    this._skipCache = true\n    this.debugMessage(`skipping cache`)\n    return this\n  }\n\n  // Get all ids\n  ids () {\n    this.debugMessage(`ids(${this.url}) called`)\n\n    if (!this.isBulk) {\n      return Promise.reject(new Error('\"ids\" is only available for bulk expanding endpoints'))\n    }\n\n    // There is no cache time set, so always use the live data\n    if (!this.cacheTime) {\n      return this._ids()\n    }\n\n    // Get as much as possible out of the cache\n    const hash = this._cacheHash('ids')\n    const handleCacheContent = (cached) => {\n      if (cached) {\n        this.debugMessage(`ids(${this.url}) resolving from cache`)\n        return cached\n      }\n\n      return this._ids().then(content => {\n        this._cacheSetSingle(hash, content)\n        return content\n      })\n    }\n\n    // Get the content either from the cache or API, write it into the cache and return a clone\n    const contentPromise = this._skipCache\n      ? Promise.resolve(false).then(handleCacheContent)\n      : this._cacheGetSingle(hash).then(handleCacheContent)\n\n    return contentPromise.then(clone)\n  }\n\n  // Get all ids from the live API\n  _ids () {\n    this.debugMessage(`ids(${this.url}) requesting from api`)\n    return this._request(this.url)\n  }\n\n  // Get a single entry by id\n  get (id, url = false) {\n    this.debugMessage(`get(${this.url}) called`)\n\n    if (!id && this.isBulk && !url) {\n      return Promise.reject(new Error('\"get\" requires an id'))\n    }\n\n    // There is no cache time set, so always use the live data\n    if (!this.cacheTime) {\n      return this._get(id, url)\n    }\n\n    // Get as much as possible out of the cache\n    const hash = this._cacheHash(id)\n    const handleCacheContent = (cached) => {\n      if (cached) {\n        this.debugMessage(`get(${this.url}) resolving from cache`)\n        return cached\n      }\n\n      return this._get(id, url).then(content => {\n        this._cacheSetSingle(hash, content)\n        return content\n      })\n    }\n\n    // Get the content either from the cache or API, write it into the cache and return a clone\n    const contentPromise = this._skipCache\n      ? Promise.resolve(false).then(handleCacheContent)\n      : this._cacheGetSingle(hash).then(handleCacheContent)\n\n    return contentPromise.then(clone)\n  }\n\n  // Get a single entry by id from the live API\n  _get (id, url) {\n    this.debugMessage(`get(${this.url}) requesting from api`)\n\n    // Request the single id if the endpoint a bulk endpoint\n    if (this.isBulk && !url) {\n      return this._request(`${this.url}?id=${id}`)\n    }\n\n    // We are dealing with a custom url instead\n    if (url) {\n      return this._request(this.url + id)\n    }\n\n    // Just request the base url\n    return this._request(this.url)\n  }\n\n  // Get multiple entries by ids\n  many (ids) {\n    this.debugMessage(`many(${this.url}) called (${ids.length} ids)`)\n\n    if (!this.isBulk) {\n      return Promise.reject(new Error('\"many\" is only available for bulk expanding endpoints'))\n    }\n\n    // Exit out early if we don't request any ids\n    if (ids.length === 0) {\n      return Promise.resolve([])\n    }\n\n    // Always only work on unique ids, since that's how the API works\n    ids = unique.immutable(ids)\n\n    // There is no cache time set, so always use the live data\n    if (!this.cacheTime) {\n      return this._many(ids)\n    }\n\n    // Get as much as possible out of the cache\n    const hashes = ids.map(id => this._cacheHash(id))\n    const handleCacheContent = (cached) => {\n      cached = cached.filter(x => x)\n\n      if (cached.length === ids.length) {\n        this.debugMessage(`many(${this.url}) resolving fully from cache`)\n        return cached\n      }\n\n      this.debugMessage(`many(${this.url}) resolving partially from cache (${cached.length} ids)`)\n      const missingIds = getMissingIds(ids, cached)\n      return this._many(missingIds, cached.length > 0).then(content => {\n        const cacheContent = content.map(value => [this._cacheHash(value.id), value])\n        this._cacheSetMany(cacheContent)\n\n        // Merge the new content with the cached content and guarantee element order\n        content = content.concat(cached)\n        return this._sortByIdList(content, ids)\n      })\n    }\n\n    // Find the ids that are missing in the cached data\n    const getMissingIds = (ids, cached) => {\n      const cachedIds = {}\n      cached.map(x => {\n        cachedIds[x.id] = 1\n      })\n\n      return ids.filter(x => cachedIds[x] !== 1)\n    }\n\n    // Get the content either from the cache or API, write it into the cache and return a clone\n    const contentPromise = this._skipCache\n      ? Promise.resolve([]).then(handleCacheContent)\n      : this._cacheGetMany(hashes).then(handleCacheContent)\n\n    return contentPromise.then(clone)\n  }\n\n  // Get multiple entries by ids from the live API\n  _many (ids, partialRequest = false) {\n    this.debugMessage(`many(${this.url}) requesting from api (${ids.length} ids)`)\n\n    // Chunk the requests to the max page size\n    const pages = chunk(ids, this.maxPageSize)\n    const requests = pages.map(page => `${this.url}?ids=${page.join(',')}`)\n\n    // If we are partially caching and all not-cached ids are all invalid,\n    // simulate the API behaviour by silently swallowing errors.\n    let handleMissingIds = (err) => {\n      /* istanbul ignore else */\n      if (partialRequest && err.response && err.response.status === 404) {\n        return Promise.resolve([])\n      }\n\n      /* istanbul ignore next */\n      return Promise.reject(err)\n    }\n\n    // Work on all requests in parallel and then flatten the responses into one\n    return this._requestMany(requests)\n      .then(responses => responses.reduce((x, y) => x.concat(y), []))\n      .catch(handleMissingIds)\n  }\n\n  // Get a single page\n  page (page, size = this.maxPageSize) {\n    this.debugMessage(`page(${this.url}) called`)\n\n    if (!this.isBulk && !this.isPaginated) {\n      return Promise.reject(new Error('\"page\" is only available for bulk expanding or paginated endpoints'))\n    }\n\n    if (size > this.maxPageSize || size <= 0) {\n      return Promise.reject(new Error(`\"size\" has to be between 0 and ${this.maxPageSize}, was ${size}`))\n    }\n\n    if (page < 0) {\n      return Promise.reject(new Error('page has to be 0 or greater'))\n    }\n\n    // There is no cache time set, so always use the live data\n    if (!this.cacheTime) {\n      return this._page(page, size)\n    }\n\n    // Get as much as possible out of the cache\n    const hash = this._cacheHash('page-' + page + '/' + size)\n    const handleCacheContent = (cached) => {\n      if (cached) {\n        this.debugMessage(`page(${this.url}) resolving from cache`)\n        return cached\n      }\n\n      return this._page(page, size).then(content => {\n        let cacheContent = [[hash, content]]\n\n        if (this.isBulk) {\n          cacheContent = cacheContent.concat(content.map(value => [this._cacheHash(value.id), value]))\n        }\n\n        this._cacheSetMany(cacheContent)\n        return content\n      })\n    }\n\n    // Get the content either from the cache or API, write it into the cache and return a clone\n    const contentPromise = this._skipCache\n      ? Promise.resolve(false).then(handleCacheContent)\n      : this._cacheGetSingle(hash).then(handleCacheContent)\n\n    return contentPromise.then(clone)\n  }\n\n  // Get a single page from the live API\n  _page (page, size) {\n    this.debugMessage(`page(${this.url}) requesting from api`)\n    return this._request(`${this.url}?page=${page}&page_size=${size}`)\n  }\n\n  // Get all entries\n  all () {\n    this.debugMessage(`all(${this.url}) called`)\n\n    if (!this.isBulk && !this.isPaginated) {\n      return Promise.reject(new Error('\"all\" is only available for bulk expanding or paginated endpoints'))\n    }\n\n    // There is no cache time set, so always use the live data\n    if (!this.cacheTime) {\n      return this._all()\n    }\n\n    // Get as much as possible out of the cache\n    const hash = this._cacheHash('all')\n    const handleCacheContent = (cached) => {\n      if (cached) {\n        this.debugMessage(`all(${this.url}) resolving from cache`)\n        return cached\n      }\n\n      return this._all().then(content => {\n        let cacheContent = [[hash, content]]\n\n        if (this.isBulk) {\n          cacheContent = cacheContent.concat(content.map(value => [this._cacheHash(value.id), value]))\n        }\n\n        this._cacheSetMany(cacheContent)\n        return content\n      })\n    }\n\n    // Get the content either from the cache or API, write it into the cache and return a clone\n    const contentPromise = this._skipCache\n      ? Promise.resolve(false).then(handleCacheContent)\n      : this._cacheGetSingle(hash).then(handleCacheContent)\n\n    return contentPromise.then(clone)\n  }\n\n  // Get all entries from the live API\n  _all () {\n    this.debugMessage(`all(${this.url}) requesting from api`)\n\n    // Use bulk expansion if the endpoint supports the \"all\" keyword\n    if (this.isBulk && this.supportsBulkAll) {\n      return this._request(`${this.url}?ids=all`)\n    }\n\n    // Get everything via all pages instead\n    let totalEntries\n    return this._request(`${this.url}?page=0&page_size=${this.maxPageSize}`, 'response')\n      .then(firstPage => {\n        // Get the total number of entries off the first page's headers\n        totalEntries = firstPage.headers.get('X-Result-Total')\n        return firstPage.json()\n      })\n      .then(result => {\n        // Return early if the first page already includes all entries\n        if (totalEntries <= this.maxPageSize) {\n          return result\n        }\n\n        // Request all missing pages in parallel\n        let requests = []\n        for (let page = 1; page < Math.ceil(totalEntries / this.maxPageSize); page++) {\n          requests.push(`${this.url}?page=${page}&page_size=${this.maxPageSize}`)\n        }\n\n        return this._requestMany(requests).then(responses => {\n          responses = responses.reduce((x, y) => x.concat(y), [])\n          return result.concat(responses)\n        })\n      })\n  }\n\n  // Set a single cache key in all connected cache storages\n  _cacheSetSingle (key, value) {\n    this.caches.map(cache => cache.set(key, value, this.cacheTime))\n  }\n\n  // Set multiples cache key in all connected cache storages\n  _cacheSetMany (values) {\n    values = values.map(value => [value[0], value[1], this.cacheTime])\n    this.caches.map(cache => cache.mset(values))\n  }\n\n  // Get a cached value out of the first possible connected cache storages\n  _cacheGetSingle (key, index = 0) {\n    return this.caches[index].get(key).then(value => {\n      if (value || index === this.caches.length - 1) {\n        return value\n      }\n\n      return this._cacheGetSingle(key, ++index)\n    })\n  }\n\n  // Get multiple cached values out of the first possible connected cache storages\n  _cacheGetMany (keys, index = 0) {\n    return this.caches[index].mget(keys).then(values => {\n      const cleanValues = values.filter(x => x)\n\n      // We got all the requested keys or are through all storages\n      if (cleanValues.length === keys.length || index === this.caches.length - 1) {\n        return values\n      }\n\n      // Try to ask the next storage for the keys that we didn't get\n      let missingKeys = values\n        .map((value, i) => value ? false : keys[i])\n        .filter(value => value)\n\n      // Then merge the values of the next storage into the missing slots\n      return this._cacheGetMany(missingKeys, ++index).then(missingValues => {\n        let i = 0\n        return values.map(value => value || missingValues[i++])\n      })\n    })\n  }\n\n  // Get a cache hash for an identifier\n  _cacheHash (id) {\n    let hash = hashString(this.baseUrl + this.url + ':' + this.schemaVersion)\n\n    if (id) {\n      hash += ':' + id\n    }\n\n    if (this.isLocalized) {\n      hash += ':' + this.lang\n    }\n\n    if (this._usesApiKey()) {\n      hash += ':' + hashString(this.apiKey + '')\n    }\n\n    return hash\n  }\n\n  // Execute a single request\n  _request (url, type = 'json') {\n    url = this._buildUrl(url)\n\n    /* istanbul ignore next */\n    const credentials = this.credentials ? 'include' : undefined\n\n    return this.fetch.single(url, { type, credentials })\n  }\n\n  // Execute multiple requests in parallel\n  _requestMany (urls, type = 'json') {\n    urls = urls.map(url => this._buildUrl(url))\n\n    /* istanbul ignore next */\n    const credentials = this.credentials ? 'include' : undefined\n\n    return this.fetch.many(urls, { type, credentials })\n  }\n\n  // Build the headers for localization and authentication\n  _buildUrl (url) {\n    // Add the base url\n    url = this.baseUrl + url\n\n    // Parse a possibly existing query\n    const parsedUrl = url.split('?')\n    let parsedQuery = qs.parse(parsedUrl[1] || '')\n\n    let query = {}\n\n    // Set the schema version\n    query['v'] = this.schemaVersion\n\n    // Only set the API key for authenticated endpoints,\n    // when it is required or optional and set on the client\n    if (this._usesApiKey()) {\n      query['access_token'] = this.apiKey\n    }\n\n    // Set the language for localized endpoints\n    if (this.isLocalized) {\n      query['lang'] = this.lang\n    }\n\n    // Merge the parsed query parts out of the url\n    query = Object.assign(query, parsedQuery)\n\n    // Build the url with the finished query\n    query = qs.stringify(query, true).replace(/%2C/g, ',')\n    return parsedUrl[0] + query\n  }\n\n  // Guarantee the element order of bulk results\n  _sortByIdList (entries, ids) {\n    // Hash map of the indexes for better time complexity on big arrays\n    let indexMap = {}\n    ids.map((x, i) => {\n      indexMap[x] = i\n    })\n\n    // Sort by the indexes\n    entries.sort((a, b) => indexMap[a.id] - indexMap[b.id])\n    return entries\n  }\n\n  _usesApiKey () {\n    return this.isAuthenticated && (!this.isOptionallyAuthenticated || this.apiKey)\n  }\n}\n","import Module from './module';\n\nasync function wrapApi(promise) {\n    try {\n        return await promise;\n    } catch (err) {\n        if (!err.content) {\n            throw err;\n        } else if (err.content.text) {\n            throw `Error ${err.response.status}: ${err.content.text}.`;\n        } else {\n            throw `Error ${err.response.status}`;\n        }\n    }\n};\n\nexport default class extends Module {\n    get commandName() {\n        throw new TypeError('commandName needs to be implemented by derivatives');\n    }\n\n    execute() {\n        return wrapApi(this._execute());\n    }\n}\n","export default class {\n    initialize(terminal, api) {\n        this._terminal = terminal;\n        this._api = api;\n    }\n    \n    get commandName() {\n        throw new TypeError('commandName needs to be implemented by derivatives');\n    }\n    \n    execute() {\n        return this._execute();\n    }\n\n    _execute() {\n        throw new TypeError('_execute needs to be implemented by derivatives');\n    }\n}\n","const Client = require('./client')\n\n// Each time the api wrapper is called, we give back a new instance\nmodule.exports = function () {\n  return new Client()\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class CharactersEndpoint extends AbstractEndpoint {\n  constructor (client, name) {\n    super(client)\n    this.name = name\n    this.url = '/v2/characters'\n    this.isPaginated = true\n    this.isBulk = true\n    this.supportsBulkAll = false\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n\n  backstory () {\n    return new BackstoryEndpoint(this, this.name)\n  }\n\n  core () {\n    return new CoreEndpoint(this, this.name)\n  }\n\n  crafting () {\n    return new CraftingEndpoint(this, this.name)\n  }\n\n  equipment () {\n    return new EquipmentEndpoint(this, this.name)\n  }\n\n  heropoints () {\n    return new HeropointsEndpoint(this, this.name)\n  }\n\n  inventory () {\n    return new InventoryEndpoint(this, this.name)\n  }\n\n  quests () {\n    return new QuestsEndpoint(this, this.name)\n  }\n\n  recipes () {\n    return new RecipesEndpoint(this, this.name)\n  }\n\n  sab () {\n    return new SabEndpoint(this, this.name)\n  }\n\n  skills () {\n    return new SkillsEndpoint(this, this.name)\n  }\n\n  specializations () {\n    return new SpecializationsEndpoint(this, this.name)\n  }\n\n  training () {\n    return new TrainingEndpoint(this, this.name)\n  }\n}\n\nclass BackstoryEndpoint extends AbstractEndpoint {\n  constructor (client, character) {\n    super(client)\n    this.url = `/v2/characters/${encodeURIComponent(character)}/backstory`\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n\n  get () {\n    return super.get().then(result => result.backstory)\n  }\n}\n\nclass CoreEndpoint extends AbstractEndpoint {\n  constructor (client, character) {\n    super(client)\n    this.url = `/v2/characters/${encodeURIComponent(character)}/core`\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass CraftingEndpoint extends AbstractEndpoint {\n  constructor (client, character) {\n    super(client)\n    this.url = `/v2/characters/${encodeURIComponent(character)}/crafting`\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n\n  get () {\n    return super.get().then(result => result.crafting)\n  }\n}\n\nclass EquipmentEndpoint extends AbstractEndpoint {\n  constructor (client, character) {\n    super(client)\n    this.url = `/v2/characters/${encodeURIComponent(character)}/equipment`\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n\n  get () {\n    return super.get().then(result => result.equipment)\n  }\n}\n\nclass HeropointsEndpoint extends AbstractEndpoint {\n  constructor (client, character) {\n    super(client)\n    this.url = `/v2/characters/${encodeURIComponent(character)}/heropoints`\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass InventoryEndpoint extends AbstractEndpoint {\n  constructor (client, character) {\n    super(client)\n    this.url = `/v2/characters/${encodeURIComponent(character)}/inventory`\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n\n  get () {\n    return super.get().then(result => result.bags)\n  }\n}\n\nclass QuestsEndpoint extends AbstractEndpoint {\n  constructor (client, character) {\n    super(client)\n    this.url = `/v2/characters/${encodeURIComponent(character)}/quests`\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass RecipesEndpoint extends AbstractEndpoint {\n  constructor (client, character) {\n    super(client)\n    this.url = `/v2/characters/${encodeURIComponent(character)}/recipes`\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n\n  get () {\n    return super.get().then(result => result.recipes)\n  }\n}\n\nclass SabEndpoint extends AbstractEndpoint {\n  constructor (client, character) {\n    super(client)\n    this.url = `/v2/characters/${encodeURIComponent(character)}/sab`\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass SkillsEndpoint extends AbstractEndpoint {\n  constructor (client, character) {\n    super(client)\n    this.url = `/v2/characters/${encodeURIComponent(character)}/skills`\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n\n  get () {\n    return super.get().then(result => result.skills)\n  }\n}\n\nclass SpecializationsEndpoint extends AbstractEndpoint {\n  constructor (client, character) {\n    super(client)\n    this.url = `/v2/characters/${encodeURIComponent(character)}/specializations`\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n\n  get () {\n    return super.get().then(result => result.specializations)\n  }\n}\n\nclass TrainingEndpoint extends AbstractEndpoint {\n  constructor (client, character) {\n    super(client)\n    this.url = `/v2/characters/${encodeURIComponent(character)}/training`\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n\n  get () {\n    return super.get().then(result => result.training)\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class PvpEndpoint extends AbstractEndpoint {\n  constructor (client, fromAccount) {\n    super(client)\n    this.fromAccount = fromAccount\n  }\n\n  amulets () {\n    return new AmuletsEndpoint(this)\n  }\n\n  games () {\n    return new GamesEndpoint(this)\n  }\n\n  heroes () {\n    if (this.fromAccount) {\n      return new AccountHeroesEndpoint(this)\n    }\n\n    return new HeroesEndpoint(this)\n  }\n\n  ranks () {\n    return new RanksEndpoint(this)\n  }\n\n  seasons (id) {\n    return new SeasonsEndpoint(this, id)\n  }\n\n  standings () {\n    return new StandingsEndpoint(this)\n  }\n\n  stats () {\n    return new StatsEndpoint(this)\n  }\n}\n\nclass AccountHeroesEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/account/pvp/heroes'\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass AmuletsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/pvp/amulets'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n\nclass GamesEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/pvp/games'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass HeroesEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/pvp/heroes'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n\nclass RanksEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/pvp/ranks'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n\nclass SeasonsEndpoint extends AbstractEndpoint {\n  constructor (client, id) {\n    super(client)\n    this.id = id\n    this.url = '/v2/pvp/seasons'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n\n  leaderboards () {\n    return new SeasonLeaderboardEndpoint(this, this.id)\n  }\n}\n\nclass SeasonLeaderboardEndpoint extends AbstractEndpoint {\n  constructor (client, id) {\n    super(client)\n    this.id = id\n    this.url = `/v2/pvp/seasons/${id}/leaderboards`\n    this.cacheTime = 24 * 60 * 60\n  }\n\n  ids () {\n    return super.get('', true)\n  }\n\n  board (board, region) {\n    return new SeasonLeaderboardBoardEndpoint(this, this.id, board, region)\n  }\n}\n\nclass SeasonLeaderboardBoardEndpoint extends AbstractEndpoint {\n  constructor (client, id, board, region) {\n    super(client)\n    this.url = `/v2/pvp/seasons/${id}/leaderboards/${board}/${region}`\n    this.isPaginated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass StandingsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/pvp/standings'\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass StatsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/pvp/stats'\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class CommerceEndpoint extends AbstractEndpoint {\n  // Current things to grab in the delivery box\n  delivery () {\n    return new DeliveryEndpoint(this)\n  }\n\n  // Current gem/coin exchange rates\n  exchange () {\n    return new ExchangeEndpoint(this)\n  }\n\n  // Current tradingpost listings\n  listings () {\n    return new ListingsEndpoint(this)\n  }\n\n  // Current tradingpost prices\n  prices () {\n    return new PricesEndpoint(this)\n  }\n\n  // Current and completed transactions\n  transactions () {\n    return {\n      current: () => ({\n        buys: () => new TransactionsEndpoint(this, 'current', 'buys'),\n        sells: () => new TransactionsEndpoint(this, 'current', 'sells')\n      }),\n      history: () => ({\n        buys: () => new TransactionsEndpoint(this, 'history', 'buys'),\n        sells: () => new TransactionsEndpoint(this, 'history', 'sells')\n      })\n    }\n  }\n}\n\nclass DeliveryEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = `/v2/commerce/delivery`\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass ExchangeEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/commerce/exchange'\n    this.cacheTime = 10 * 60\n  }\n\n  gems (quantity) {\n    return super.get(`/gems?quantity=${quantity}`, true)\n  }\n\n  coins (quantity) {\n    return super.get(`/coins?quantity=${quantity}`, true)\n  }\n}\n\nclass ListingsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/commerce/listings'\n    this.isPaginated = true\n    this.isBulk = true\n    this.supportsBulkAll = false\n    this.cacheTime = 2 * 60\n  }\n}\n\nclass PricesEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/commerce/prices'\n    this.isPaginated = true\n    this.isBulk = true\n    this.supportsBulkAll = false\n    this.cacheTime = 60\n  }\n}\n\nclass TransactionsEndpoint extends AbstractEndpoint {\n  constructor (client, type, list) {\n    super(client)\n    this.url = `/v2/commerce/transactions/${type}/${list}`\n    this.isPaginated = true\n    this.isAuthenticated = true\n    this.cacheTime = 10 * 60\n  }\n}\n","async function parallel (promises) {\n  const results = await Promise.all(\n    Object.values(promises).map(func => func())\n  )\n\n  // If the initial structure was an array, just return the array of results\n  if (Array.isArray(promises)) {\n    return results\n  }\n\n  // If the initial structure was an object, rebuild an object with the results\n  const keys = Object.keys(promises)\n  return results.reduce((object, resultPart, index) => {\n    object[keys[index]] = resultPart\n    return object\n  }, {})\n}\n\nmodule.exports = { parallel }\n","(function (global, undefined) {\n\n\tvar Terminal = Terminal || function(containerID, options) {\n\t\tif (!containerID) return;\n\n\t\tvar defaults = {\n\t\t\twelcome: '',\n\t\t\tprompt: '',\n\t\t\tseparator: '&gt;',\n\t\t\ttheme: 'interlaced'\n\t\t};\n\n\t\tvar options = options || defaults;\n\t\toptions.welcome = options.welcome || defaults.welcome;\n\t\toptions.prompt = options.prompt || defaults.prompt;\n\t\toptions.separator = options.separator || defaults.separator;\n\t\toptions.theme = options.theme || defaults.theme;\n\n\t\tvar extensions = Array.prototype.slice.call(arguments, 2);\n\n\t\tvar _history = localStorage.history ? JSON.parse(localStorage.history) : [];\n\t\tvar _histpos = _history.length;\n\t\tvar _histtemp = '';\n\n\t\t// Create terminal and cache DOM nodes;\n\t\tvar _terminal = document.getElementById(containerID);\n\t\t_terminal.classList.add('terminal');\n\t\t_terminal.classList.add('terminal-' + options.theme);\n\t\t_terminal.insertAdjacentHTML('beforeEnd', [\n\t\t\t'<div class=\"background\"><div class=\"interlace\"></div></div>',\n\t\t\t'<div class=\"container\">',\n\t\t\t'<output></output>',\n\t\t\t'<table class=\"input-line\">',\n\t\t\t'<tr><td nowrap><div class=\"prompt\">' + options.prompt + options.separator + '</div></td><td width=\"100%\"><input class=\"cmdline\" spellcheck=\"false\" autofocus /></td></tr>',\n\t\t\t'</table>',\n\t\t\t'</div>'].join(''));\n\t\tvar _container = _terminal.querySelector('.container');\n\t\tvar _inputLine = _container.querySelector('.input-line');\n\t\tvar _cmdLine = _container.querySelector('.input-line .cmdline');\n\t\tvar _output = _container.querySelector('output');\n\t\tvar _prompt = _container.querySelector('.prompt');\n\t\tvar _background = document.querySelector('.background');\n\n\t\t// Hackery to resize the interlace background image as the container grows.\n\t\t_output.addEventListener('DOMSubtreeModified', function(e) {\n\t\t\t// Works best with the scroll into view wrapped in a setTimeout.\n\t\t\tsetTimeout(function() {\n\t\t\t\t_cmdLine.scrollIntoView();\n\t\t\t}, 0);\n\t\t}, false);\n\n\t\tif (options.welcome) {\n\t\t\toutput(options.welcome);\n\t\t}\n\n\t\twindow.addEventListener('click', function(e) {\n\t\t\t_cmdLine.focus();\n\t\t}, false);\n\n\t\t_output.addEventListener('click', function(e) {\n\t\t\te.stopPropagation();\n\t\t}, false);\n\n\t\t// Always force text cursor to end of input line.\n\t\t_cmdLine.addEventListener('click', inputTextClick, false);\n\t\t_inputLine.addEventListener('click', function(e) {\n\t\t\t_cmdLine.focus();\n\t\t}, false);\n\n\t\t// Handle up/down key presses for shell history and enter for new command.\n\t\t_cmdLine.addEventListener('keyup', historyHandler, false);\n\t\t_cmdLine.addEventListener('keydown', processNewCommand, false);\n\n\t\twindow.addEventListener('keyup', function(e) {\n\t\t\t_cmdLine.focus();\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t}, false);\n\n\t\tfunction inputTextClick(e) {\n\t\t\tthis.value = this.value;\n\t\t}\n\n\t\tfunction historyHandler(e) {\n\t\t\t// Clear command-line on Escape key.\n\t\t\tif (e.keyCode == 27) {\n\t\t\t\tthis.value = '';\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t}\n\n\t\t\tif (_history.length && (e.keyCode == 38 || e.keyCode == 40)) {\n\t\t\t\tif (_history[_histpos]) {\n\t\t\t\t\t_history[_histpos] = this.value;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t_histtemp = this.value;\n\t\t\t\t}\n\n\t\t\t\tif (e.keyCode == 38) {\n\t\t\t\t\t// Up arrow key.\n\t\t\t\t\t_histpos--;\n\t\t\t\t\tif (_histpos < 0) {\n\t\t\t\t\t\t_histpos = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (e.keyCode == 40) {\n\t\t\t\t\t// Down arrow key.\n\t\t\t\t\t_histpos++;\n\t\t\t\t\tif (_histpos > _history.length) {\n\t\t\t\t\t\t_histpos = _history.length;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.value = _history[_histpos] ? _history[_histpos] : _histtemp;\n\n\t\t\t\t// Move cursor to end of input.\n\t\t\t\tthis.value = this.value;\n\t\t\t}\n\t\t}\n\n\t\tasync function processNewCommand(e) {\n\t\t\t// Only handle the Enter key.\n\t\t\tif (e.keyCode != 13) return;\n\n\t\t\tvar cmdline = this.value;\n\n\t\t\t// Save shell history.\n\t\t\tif (cmdline) {\n\t\t\t\t_history[_history.length] = cmdline;\n\t\t\t\tlocalStorage['history'] = JSON.stringify(_history);\n\t\t\t\t_histpos = _history.length;\n\t\t\t}\n\n\t\t\t// Duplicate current input and append to output section.\n\t\t\tvar line = this.parentNode.parentNode.parentNode.parentNode.cloneNode(true);\n\t\t\tline.removeAttribute('id')\n\t\t\tline.classList.add('line');\n\t\t\tvar input = line.querySelector('input.cmdline');\n\t\t\tinput.autofocus = false;\n\t\t\tinput.readOnly = true;\n\t\t\tinput.insertAdjacentHTML('beforebegin', input.value);\n\t\t\tinput.parentNode.removeChild(input);\n\t\t\t_output.appendChild(line);\n\n\t\t\t// Hide command line until we're done processing input.\n\t\t\t_inputLine.classList.add('hidden');\n\n\t\t\t// Clear/setup line for next input.\n\t\t\tthis.value = '';\n\n\t\t\t// Parse out command, args, and trim off whitespace.\n\t\t\tif (cmdline && cmdline.trim()) {\n\t\t\t\tvar args = cmdline.split(' ').filter(function(val, i) {\n\t\t\t\t\treturn val;\n\t\t\t\t});\n\t\t\t\tvar cmd = args[0];\n\t\t\t\targs = args.splice(1); // Remove cmd from arg list.\n\t\t\t}\n\n\t\t\tif (cmd) {\n\t\t\t\tvar response = false;\n\t\t\t\tfor (var index in extensions) {\n\t\t\t\t\tvar ext = extensions[index];\n\t\t\t\t\tif (ext.execute) response = ext.execute(cmd, args);\n\t\t\t\t\tif (response && response.then) {\n\t\t\t\t\t\tresponse = await response;\n\t\t\t\t\t}\n\t\t\t\t\tif (response !== false) break;\n\t\t\t\t}\n\t\t\t\tif (response === false) response = cmd + ': command not found';\n\t\t\t\toutput(response);\n\t\t\t}\n\n\t\t\t// Show the command line.\n\t\t\t_inputLine.classList.remove('hidden');\n\t\t}\n\n\t\tfunction clear() {\n\t\t\t_output.innerHTML = '';\n\t\t\t_cmdLine.value = '';\n\t\t\t_background.style.minHeight = '';\n\t\t}\n\n\t\tfunction output(html) {\n\t\t\t_output.insertAdjacentHTML('beforeEnd', html);\n\t\t\t_cmdLine.scrollIntoView();\n\t\t}\n\n\t\tfunction outputLine(html) {\n\t\t\toutput(`${html ? html : ''}<br/>`);\n\t\t}\n\n\t\treturn {\n\t\t\tclear: clear,\n\t\t\twrite: output,\n\t\t\twriteLine: outputLine,\n\t\t\tsetPrompt: function(prompt) { _prompt.innerHTML = prompt + options.separator; },\n\t\t\tgetPrompt: function() { return _prompt.innerHTML.replace(new RegExp(options.separator + '$'), ''); },\n\t\t\tsetTheme: function(theme) { _terminal.classList.remove('terminal-' + options.theme); options.theme = theme; _terminal.classList.add('terminal-' + options.theme); },\n\t\t\tgetTheme: function() { return options.theme; }\n\t\t}\n\t};\n\n\t// node.js\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = Terminal;\n\n\t// web browsers\n\t} else {\n\t\tvar oldTerminal = global.Terminal;\n\t\tTerminal.noConflict = function () {\n\t\t\tglobal.Terminal = oldTerminal;\n\t\t\treturn Terminal;\n\t\t};\n\t\tglobal.Terminal = Terminal;\n\t}\n\n})(this);\n","const fetch = require('lets-fetch')\nconst nullCache = require('./cache/null')\nconst endpoints = require('./endpoints')\nconst flow = require('./flow')\n\nmodule.exports = class Client {\n  constructor () {\n    this.schemaVersion = '2019-03-20T00:00:00.000Z'\n    this.lang = 'en'\n    this.apiKey = false\n    this.fetch = fetch\n    this.caches = [nullCache()]\n    this.debug = false\n    this.client = this\n  }\n\n  // Set the schema version\n  schema (schema) {\n    this.schemaVersion = schema\n    this.debugMessage(`set the schema to ${schema}`)\n    return this\n  }\n\n  // Set the language for locale-aware endpoints\n  language (lang) {\n    this.lang = lang\n    this.debugMessage(`set the language to ${lang}`)\n    return this\n  }\n\n  // Set the api key for authenticated endpoints\n  authenticate (apiKey) {\n    this.apiKey = apiKey\n    this.debugMessage(`set the api key to ${apiKey}`)\n    return this\n  }\n\n  // Set the caching storage method(s)\n  cacheStorage (caches) {\n    this.caches = [].concat(caches)\n    this.debugMessage(`updated the cache storage`)\n    return this\n  }\n\n  // Set the debugging flag\n  debugging (flag) {\n    this.debug = flag\n    return this\n  }\n\n  // Print out a debug message if debugging is enabled\n  debugMessage (string) {\n    if (this.debug) {\n      console.log(`[gw2api-client] ${string}`)\n    }\n  }\n\n  // Make sure we get the new content if the game updates\n  flushCacheIfGameUpdated () {\n    const buildEndpoint = this.build()\n    const promises = {\n      cacheBuildId: () => buildEndpoint._cacheGetSingle('cacheBuildId'),\n      buildId: () => buildEndpoint.live().get()\n    }\n\n    return flow.parallel(promises).then(resp => {\n      let flushPromises = []\n\n      // Flush the caches if the cached build id is set (as a safety measure)\n      // and the cached build id is older than the current one\n      if (resp.cacheBuildId && resp.cacheBuildId < resp.buildId) {\n        this.debugMessage(`flushing the cache because of a new build`)\n        flushPromises = this.caches.map(cache => () => cache.flush())\n      }\n\n      // Flush the caches (if needed) and save the current build id\n      return flow.parallel(flushPromises)\n        .then(() => buildEndpoint._cacheSetSingle('cacheBuildId', resp.buildId))\n    })\n  }\n\n  // All the different API endpoints\n  account () {\n    return new endpoints.AccountEndpoint(this)\n  }\n\n  achievements () {\n    return new endpoints.AchievementsEndpoint(this)\n  }\n\n  backstory () {\n    return new endpoints.BackstoryEndpoint(this)\n  }\n\n  build () {\n    return new endpoints.BuildEndpoint(this)\n  }\n\n  cats () {\n    return new endpoints.CatsEndpoint(this)\n  }\n\n  characters (name) {\n    return new endpoints.CharactersEndpoint(this, name)\n  }\n\n  colors () {\n    return new endpoints.ColorsEndpoint(this)\n  }\n\n  commerce () {\n    return new endpoints.CommerceEndpoint(this)\n  }\n\n  continents () {\n    return new endpoints.ContinentsEndpoint(this)\n  }\n\n  currencies () {\n    return new endpoints.CurrenciesEndpoint(this)\n  }\n\n  dailycrafting () {\n    return new endpoints.DailycraftingEndpoint(this)\n  }\n\n  dungeons () {\n    return new endpoints.DungeonsEndpoint(this)\n  }\n\n  emblem () {\n    return new endpoints.EmblemEndpoint(this)\n  }\n\n  events () {\n    return new endpoints.EventsEndpoint(this)\n  }\n\n  files () {\n    return new endpoints.FilesEndpoint(this)\n  }\n\n  finishers () {\n    return new endpoints.FinishersEndpoint(this)\n  }\n\n  gliders () {\n    return new endpoints.GlidersEndpoint(this)\n  }\n\n  guild (id) {\n    return new endpoints.GuildEndpoint(this, id)\n  }\n\n  home () {\n    return new endpoints.HomeEndpoint(this)\n  }\n\n  items () {\n    return new endpoints.ItemsEndpoint(this)\n  }\n\n  itemstats () {\n    return new endpoints.ItemstatsEndpoint(this)\n  }\n\n  legends () {\n    return new endpoints.LegendsEndpoint(this)\n  }\n\n  mailcarriers () {\n    return new endpoints.MailcarriersEndpoint(this)\n  }\n\n  mapchests () {\n    return new endpoints.MapchestsEndpoint(this)\n  }\n\n  maps () {\n    return new endpoints.MapsEndpoint(this)\n  }\n\n  masteries () {\n    return new endpoints.MasteriesEndpoint(this)\n  }\n\n  materials () {\n    return new endpoints.MaterialsEndpoint(this)\n  }\n\n  minis () {\n    return new endpoints.MinisEndpoint(this)\n  }\n\n  mounts () {\n    return new endpoints.MountsEndpoint(this)\n  }\n\n  nodes () {\n    return new endpoints.NodesEndpoint(this)\n  }\n\n  novelties () {\n    return new endpoints.NoveltiesEndpoint(this)\n  }\n\n  outfits () {\n    return new endpoints.OutfitsEndpoint(this)\n  }\n\n  pets () {\n    return new endpoints.PetsEndpoint(this)\n  }\n\n  professions () {\n    return new endpoints.ProfessionsEndpoint(this)\n  }\n\n  pvp () {\n    return new endpoints.PvpEndpoint(this)\n  }\n\n  quaggans () {\n    return new endpoints.QuaggansEndpoint(this)\n  }\n\n  quests () {\n    return new endpoints.QuestsEndpoint(this)\n  }\n\n  races () {\n    return new endpoints.RacesEndpoint(this)\n  }\n\n  raids () {\n    return new endpoints.RaidsEndpoint(this)\n  }\n\n  recipes () {\n    return new endpoints.RecipesEndpoint(this)\n  }\n\n  skills () {\n    return new endpoints.SkillsEndpoint(this)\n  }\n\n  skins () {\n    return new endpoints.SkinsEndpoint(this)\n  }\n\n  specializations () {\n    return new endpoints.SpecializationsEndpoint(this)\n  }\n\n  stories () {\n    return new endpoints.StoriesEndpoint(this)\n  }\n\n  titles () {\n    return new endpoints.TitlesEndpoint(this)\n  }\n\n  tokeninfo () {\n    return new endpoints.TokeninfoEndpoint(this)\n  }\n\n  traits () {\n    return new endpoints.TraitsEndpoint(this)\n  }\n\n  worldbosses () {\n    return new endpoints.WorldbossesEndpoint(this)\n  }\n\n  worlds () {\n    return new endpoints.WorldsEndpoint(this)\n  }\n\n  wvw () {\n    return new endpoints.WvwEndpoint(this)\n  }\n}\n","const fetch = require('node-fetch')\nconst flow = require('./flow.js')\n\nconst defaultOptions = {\n  type: 'json',\n  method: 'GET',\n  headers: {},\n  body: undefined\n}\n\nlet internalRetry = () => false\nlet internalRetryWait = () => false\n\nmodule.exports = { retry, retryWait, single, many }\n\n// Set a custom decider function that decides to retry\n// based on the number of tries and the previous error\nfunction retry (decider) {\n  internalRetry = decider\n}\n\n// Set a custom function that sets how long we should\n// sleep between each failed request\nfunction retryWait (callback) {\n  internalRetryWait = callback\n}\n\n// Request a single url\nfunction single (url, options = {}) {\n  let tries = 1\n\n  // Execute the request and retry if there are errors (and the\n  // retry decider decided that we should try our luck again)\n  const callRequest = () => request(url, options).catch(err => {\n    if (internalRetry(++tries, err)) {\n      return wait(callRequest, internalRetryWait(tries))\n    }\n\n    throw err\n  })\n\n  return callRequest()\n}\n\n// Send a request using the underlying fetch API\nfunction request (url, options) {\n  options = Object.assign({}, defaultOptions, options)\n  let savedContent\n  let savedResponse\n\n  return new Promise((resolve, reject) => {\n    fetch(url, options)\n      .then(handleResponse)\n      .then(handleBody)\n      .catch(handleError)\n\n    function handleResponse (response) {\n      // Save the response for checking the status later\n      savedResponse = response\n\n      // Decode the response body\n      switch (options.type) {\n        case 'response':\n          return response\n        case 'json':\n          return response.json()\n        default:\n          return response.text()\n      }\n    }\n\n    function handleBody (content) {\n      // Bubble an error if the response status is not okay\n      if (savedResponse && savedResponse.status >= 400) {\n        savedContent = content\n        throw new Error(`Response status indicates error`)\n      }\n\n      // All is well!\n      resolve(content)\n    }\n\n    function handleError (err) {\n      // Overwrite potential decoding errors when the actual problem was the response\n      if (savedResponse && savedResponse.status >= 400) {\n        err = new Error(`Status ${savedResponse.status}`)\n      }\n\n      // Enrich the error message with the response and the content\n      let error = new Error(err.message)\n      error.response = savedResponse\n      error.content = savedContent\n      reject(error)\n    }\n  })\n}\n\n// Request multiple pages\nfunction many (urls, options = {}) {\n  let flowMethod = (options.waitTime) ? flow.series : flow.parallel\n\n  // Call the single method while respecting the wait time in between tasks\n  const callSingle = (url) => single(url, options)\n    .then(content => wait(() => content, options.waitTime))\n\n  // Map over the urls and call them using the method the user chose\n  let promises = urls.map(url => () => callSingle(url))\n  return flowMethod(promises)\n}\n\n// Wait a specific time before executing a callback\nfunction wait (callback, ms) {\n  return new Promise(resolve => {\n    setTimeout(() => resolve(callback()), ms || 0)\n  })\n}\n","\"use strict\";\n\n// ref: https://github.com/tc39/proposal-global\nvar getGlobal = function () {\n\t// the only reliable means to get the global object is\n\t// `Function('return this')()`\n\t// However, this causes CSP violations in Chrome apps.\n\tif (typeof self !== 'undefined') { return self; }\n\tif (typeof window !== 'undefined') { return window; }\n\tif (typeof global !== 'undefined') { return global; }\n\tthrow new Error('unable to locate global object');\n}\n\nvar global = getGlobal();\n\nmodule.exports = exports = global.fetch;\n\n// Needed for TypeScript and Webpack.\nexports.default = global.fetch.bind(global);\n\nexports.Headers = global.Headers;\nexports.Request = global.Request;\nexports.Response = global.Response;","async function series (array) {\n  let results = []\n\n  for (let i = 0; i !== array.length; i++) {\n    results.push(await array[i]())\n  }\n\n  return results\n}\n\nfunction parallel (array) {\n  return Promise.all(array.map(func => func()))\n}\n\nmodule.exports = {\n  series,\n  parallel\n}\n","module.exports = function () {\n  return { get, set, mget, mset, flush }\n}\n\nfunction get () {\n  return Promise.resolve(null)\n}\n\nfunction set () {\n  return Promise.resolve(true)\n}\n\nfunction mget (keys) {\n  const values = keys.map(x => null)\n  return Promise.resolve(values)\n}\n\nfunction mset () {\n  return Promise.resolve(true)\n}\n\nfunction flush () {\n  return Promise.resolve(true)\n}\n","module.exports = {\n  AccountEndpoint: require('./account'),\n  AchievementsEndpoint: require('./achievements'),\n  BackstoryEndpoint: require('./backstory'),\n  BuildEndpoint: require('./build'),\n  CatsEndpoint: require('./cats'),\n  CharactersEndpoint: require('./characters'),\n  ColorsEndpoint: require('./colors'),\n  CommerceEndpoint: require('./commerce'),\n  ContinentsEndpoint: require('./continents'),\n  CurrenciesEndpoint: require('./currencies'),\n  DailycraftingEndpoint: require('./dailycrafting'),\n  DungeonsEndpoint: require('./dungeons'),\n  EmblemEndpoint: require('./emblem'),\n  EventsEndpoint: require('./events'),\n  FilesEndpoint: require('./files'),\n  FinishersEndpoint: require('./finishers'),\n  GlidersEndpoint: require('./gliders'),\n  GuildEndpoint: require('./guild'),\n  HomeEndpoint: require('./home'),\n  ItemsEndpoint: require('./items'),\n  ItemstatsEndpoint: require('./itemstats'),\n  LegendsEndpoint: require('./legends'),\n  MailcarriersEndpoint: require('./mailcarriers'),\n  MapchestsEndpoint: require('./mapchests'),\n  MapsEndpoint: require('./maps'),\n  MasteriesEndpoint: require('./masteries'),\n  MaterialsEndpoint: require('./materials'),\n  MinisEndpoint: require('./minis'),\n  MountsEndpoint: require('./mounts'),\n  NodesEndpoint: require('./nodes'),\n  NoveltiesEndpoint: require('./novelties'),\n  OutfitsEndpoint: require('./outfits'),\n  PetsEndpoint: require('./pets'),\n  ProfessionsEndpoint: require('./professions'),\n  PvpEndpoint: require('./pvp'),\n  QuaggansEndpoint: require('./quaggans'),\n  QuestsEndpoint: require('./quests'),\n  RacesEndpoint: require('./races'),\n  RaidsEndpoint: require('./raids'),\n  RecipesEndpoint: require('./recipes'),\n  SkillsEndpoint: require('./skills'),\n  SkinsEndpoint: require('./skins'),\n  SpecializationsEndpoint: require('./specializations'),\n  StoriesEndpoint: require('./stories'),\n  TitlesEndpoint: require('./titles'),\n  TokeninfoEndpoint: require('./tokeninfo'),\n  TraitsEndpoint: require('./traits'),\n  WorldbossesEndpoint: require('./worldbosses'),\n  WorldsEndpoint: require('./worlds'),\n  WvwEndpoint: require('./wvw')\n}\n","const AbstractEndpoint = require('../endpoint')\nconst CharactersEndpoint = require('./characters')\nconst PvpEndpoint = require('./pvp')\nconst CommerceEndpoint = require('./commerce')\nconst accountBlob = require('./account-blob.js')\nconst resetTime = require('../helpers/resetTime')\n\nclass AccountEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/account'\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n\n  achievements () {\n    return new AchievementsEndpoint(this)\n  }\n\n  bank () {\n    return new BankEndpoint(this)\n  }\n\n  characters (name) {\n    return new CharactersEndpoint(this, name)\n  }\n\n  dailycrafting () {\n    return new DailycraftingEndpoint(this)\n  }\n\n  delivery () {\n    return new CommerceEndpoint(this).delivery()\n  }\n\n  dungeons () {\n    return new DungeonsEndpoint(this)\n  }\n\n  dyes () {\n    return new DyesEndpoint(this)\n  }\n\n  finishers () {\n    return new FinishersEndpoint(this)\n  }\n\n  gliders () {\n    return new GlidersEndpoint(this)\n  }\n\n  home () {\n    return {\n      cats: () => new HomeCatsEndpoint(this),\n      nodes: () => new HomeNodesEndpoint(this)\n    }\n  }\n\n  inventory () {\n    return new InventoryEndpoint(this)\n  }\n\n  luck () {\n    return new LuckEndpoint(this)\n  }\n\n  mailcarriers () {\n    return new MailcarriersEndpoint(this)\n  }\n\n  masteries () {\n    return new MasteriesEndpoint(this)\n  }\n\n  mapchests () {\n    return new MapchestsEndpoint(this)\n  }\n\n  mastery () {\n    return {\n      points: () => new MasteryPointsEndpoint(this)\n    }\n  }\n\n  materials () {\n    return new MaterialsEndpoint(this)\n  }\n\n  minis () {\n    return new MinisEndpoint(this)\n  }\n\n  mounts () {\n    return {\n      skins: () => new MountSkinsEndpoint(this),\n      types: () => new MountTypesEndpoint(this)\n    }\n  }\n\n  novelties () {\n    return new NoveltiesEndpoint(this)\n  }\n\n  outfits () {\n    return new OutfitsEndpoint(this)\n  }\n\n  pvp () {\n    return new PvpEndpoint(this, true)\n  }\n\n  raids () {\n    return new RaidsEndpoint(this)\n  }\n\n  recipes () {\n    return new RecipesEndpoint(this)\n  }\n\n  skins () {\n    return new SkinsEndpoint(this)\n  }\n\n  titles () {\n    return new TitlesEndpoint(this)\n  }\n\n  transactions () {\n    return new CommerceEndpoint(this).transactions()\n  }\n\n  wallet () {\n    return new WalletEndpoint(this)\n  }\n\n  worldbosses () {\n    return new WorldbossesEndpoint(this)\n  }\n\n  // All data available for the account in a single object\n  blob () {\n    return accountBlob(this)\n  }\n}\n\nclass AchievementsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/account/achievements'\n    this.isAuthenticated = true\n    this.isPaginated = true\n    this.isBulk = true\n    this.cacheTime = 5 * 60\n  }\n\n  ids () {\n    return Promise.reject(new Error('method not supported for this endpoint'))\n  }\n\n  get (id) {\n    if (id) {\n      return super.get(id)\n    }\n\n    // This endpoint returns all entries if the url gets requested\n    // without any parameters, analogue to the other account endpoints\n    return this.all()\n  }\n\n  all () {\n    return super.get('', true)\n  }\n}\n\nclass BankEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/account/bank'\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass DailycraftingEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/account/dailycrafting'\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n\n  async get () {\n    return await isStaleDailyData(this) ? [] : super.get()\n  }\n}\n\nclass DungeonsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/account/dungeons'\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n\n  async get () {\n    return await isStaleDailyData(this) ? [] : super.get()\n  }\n}\n\nclass DyesEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/account/dyes'\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass FinishersEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/account/finishers'\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass GlidersEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/account/gliders'\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass HomeCatsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/account/home/cats'\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass HomeNodesEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/account/home/nodes'\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass InventoryEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/account/inventory'\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass LuckEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/account/luck'\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n\n  async get () {\n    const response = await super.get()\n    // [API PATCH #0] If the account does not have any luck, the API erroneously returns `[]`\n    if (response.length === 0) return 0\n    return response[0].value\n  }\n}\n\nclass MailcarriersEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/account/mailcarriers'\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass MapchestsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/account/mapchests'\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n\n  async get () {\n    return await isStaleDailyData(this) ? [] : super.get()\n  }\n}\n\nclass MasteriesEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/account/masteries'\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass MasteryPointsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/account/mastery/points'\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass MaterialsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/account/materials'\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass MinisEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/account/minis'\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass MountSkinsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/account/mounts/skins'\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass MountTypesEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/account/mounts/types'\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass NoveltiesEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/account/novelties'\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass OutfitsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/account/outfits'\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass RaidsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/account/raids'\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n\n  async get () {\n    return await isStaleWeeklyData(this) ? [] : super.get()\n  }\n}\n\nclass RecipesEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/account/recipes'\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass SkinsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/account/skins'\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass TitlesEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/account/titles'\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass WalletEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/account/wallet'\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass WorldbossesEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/account/worldbosses'\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n\n  async get () {\n    return await isStaleDailyData(this) ? [] : super.get()\n  }\n}\n\n// Stale data can happen if the last account update was before the last daily reset\nasync function isStaleDailyData (endpointInstance) {\n  const account = await new AccountEndpoint(endpointInstance).schema('2019-03-26').get()\n  return new Date(account.last_modified) < resetTime.getLastDailyReset()\n}\n\n// Stale data can happen if the last account update was before the last weekly reset\nasync function isStaleWeeklyData (endpointInstance) {\n  const account = await new AccountEndpoint(endpointInstance).schema('2019-03-26').get()\n  return new Date(account.last_modified) < resetTime.getLastWeeklyReset()\n}\n\nmodule.exports = AccountEndpoint\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , undef;\n\n/**\n * Decode a URI encoded string.\n *\n * @param {String} input The URI encoded string.\n * @returns {String|Null} The decoded string.\n * @api private\n */\nfunction decode(input) {\n  try {\n    return decodeURIComponent(input.replace(/\\+/g, ' '));\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Attempts to encode a given input.\n *\n * @param {String} input The string that needs to be encoded.\n * @returns {String|Null} The encoded string.\n * @api private\n */\nfunction encode(input) {\n  try {\n    return encodeURIComponent(input);\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Simple query string parser.\n *\n * @param {String} query The query string that needs to be parsed.\n * @returns {Object}\n * @api public\n */\nfunction querystring(query) {\n  var parser = /([^=?&]+)=?([^&]*)/g\n    , result = {}\n    , part;\n\n  while (part = parser.exec(query)) {\n    var key = decode(part[1])\n      , value = decode(part[2]);\n\n    //\n    // Prevent overriding of existing properties. This ensures that build-in\n    // methods like `toString` or __proto__ are not overriden by malicious\n    // querystrings.\n    //\n    // In the case if failed decoding, we want to omit the key/value pairs\n    // from the result.\n    //\n    if (key === null || value === null || key in result) continue;\n    result[key] = value;\n  }\n\n  return result;\n}\n\n/**\n * Transform a query string to an object.\n *\n * @param {Object} obj Object that should be transformed.\n * @param {String} prefix Optional prefix.\n * @returns {String}\n * @api public\n */\nfunction querystringify(obj, prefix) {\n  prefix = prefix || '';\n\n  var pairs = []\n    , value\n    , key;\n\n  //\n  // Optionally prefix with a '?' if needed\n  //\n  if ('string' !== typeof prefix) prefix = '?';\n\n  for (key in obj) {\n    if (has.call(obj, key)) {\n      value = obj[key];\n\n      //\n      // Edge cases where we actually want to encode the value to an empty\n      // string instead of the stringified value.\n      //\n      if (!value && (value === null || value === undef || isNaN(value))) {\n        value = '';\n      }\n\n      key = encodeURIComponent(key);\n      value = encodeURIComponent(value);\n\n      //\n      // If we failed to encode the strings, we should bail out as we don't\n      // want to add invalid strings to the query.\n      //\n      if (key === null || value === null) continue;\n      pairs.push(key +'='+ value);\n    }\n  }\n\n  return pairs.length ? prefix + pairs.join('&') : '';\n}\n\n//\n// Expose the module.\n//\nexports.stringify = querystringify;\nexports.parse = querystring;\n","/*!\n * array-unique <https://github.com/jonschlinkert/array-unique>\n *\n * Copyright (c) 2014-2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function unique(arr) {\n  if (!Array.isArray(arr)) {\n    throw new TypeError('array-unique expects an array.');\n  }\n\n  var len = arr.length;\n  var i = -1;\n\n  while (i++ < len) {\n    var j = i + 1;\n\n    for (; j < arr.length; ++j) {\n      if (arr[i] === arr[j]) {\n        arr.splice(j--, 1);\n      }\n    }\n  }\n  return arr;\n};\n\nmodule.exports.immutable = function uniqueImmutable(arr) {\n  if (!Array.isArray(arr)) {\n    throw new TypeError('array-unique expects an array.');\n  }\n\n  var arrLen = arr.length;\n  var newArr = new Array(arrLen);\n\n  for (var i = 0; i < arrLen; i++) {\n    newArr[i] = arr[i];\n  }\n\n  return module.exports(newArr);\n};\n","\"use strict\";\r\n\r\n(function () {\r\n\r\n    function chunk (collection, size) {\r\n    \r\n        var result = [];\r\n        \r\n        // default size to two item\r\n        size = parseInt(size) || 2;\r\n        \r\n        // add each chunk to the result\r\n        for (var x = 0; x < Math.ceil(collection.length / size); x++) {\r\n            \r\n            var start = x * size;\r\n            var end = start + size;\r\n            \r\n            result.push(collection.slice(start, end));\r\n            \r\n        }\r\n        \r\n        return result;\r\n        \r\n    };\r\n\r\n    // export in node or browser\r\n    if (typeof exports !== 'undefined') {\r\n        if (typeof module !== 'undefined' && module.exports) {\r\n            exports = module.exports = chunk;\r\n        }\r\n        exports.chunk = chunk;\r\n    } else {\r\n        this.chunk = chunk;\r\n    }\r\n\r\n}.call(this));\r\n","const emotionHash = require('@emotion/hash/dist/hash.browser.cjs.js').default\n\nlet cache = {}\n\nfunction hash (string) {\n  if (!cache[string]) {\n    cache[string] = emotionHash(string)\n  }\n\n  return cache[string]\n}\n\nmodule.exports = hash\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n/* eslint-disable */\n// murmurhash2 via https://github.com/garycourt/murmurhash-js/blob/master/murmurhash2_gc.js\nfunction murmurhash2_32_gc(str) {\n  var l = str.length,\n      h = l ^ l,\n      i = 0,\n      k;\n\n  while (l >= 4) {\n    k = str.charCodeAt(i) & 0xff | (str.charCodeAt(++i) & 0xff) << 8 | (str.charCodeAt(++i) & 0xff) << 16 | (str.charCodeAt(++i) & 0xff) << 24;\n    k = (k & 0xffff) * 0x5bd1e995 + (((k >>> 16) * 0x5bd1e995 & 0xffff) << 16);\n    k ^= k >>> 24;\n    k = (k & 0xffff) * 0x5bd1e995 + (((k >>> 16) * 0x5bd1e995 & 0xffff) << 16);\n    h = (h & 0xffff) * 0x5bd1e995 + (((h >>> 16) * 0x5bd1e995 & 0xffff) << 16) ^ k;\n    l -= 4;\n    ++i;\n  }\n\n  switch (l) {\n    case 3:\n      h ^= (str.charCodeAt(i + 2) & 0xff) << 16;\n\n    case 2:\n      h ^= (str.charCodeAt(i + 1) & 0xff) << 8;\n\n    case 1:\n      h ^= str.charCodeAt(i) & 0xff;\n      h = (h & 0xffff) * 0x5bd1e995 + (((h >>> 16) * 0x5bd1e995 & 0xffff) << 16);\n  }\n\n  h ^= h >>> 13;\n  h = (h & 0xffff) * 0x5bd1e995 + (((h >>> 16) * 0x5bd1e995 & 0xffff) << 16);\n  h ^= h >>> 15;\n  return (h >>> 0).toString(36);\n}\n\nexports.default = murmurhash2_32_gc;\n","const _get = require('fast-get')\nconst flow = require('../flow.js')\n\nfunction blob (parent) {\n  const client = parent.client\n\n  const requests = {\n    account: wrap(() => client.account().get()),\n    achievements: wrap(() => client.account().achievements().get()),\n    bank: wrap(() => client.account().bank().get()),\n    characters: wrap(() => client.characters().all()),\n    'commerce.buys': wrap(() => client.commerce().transactions().current().buys().all()),\n    'commerce.sells': wrap(() => client.commerce().transactions().current().sells().all()),\n    'commerce.delivery': wrap(() => client.commerce().delivery().get()),\n    dungeons: wrap(() => client.account().dungeons().get()),\n    dyes: wrap(() => client.account().dyes().get()),\n    gliders: wrap(() => client.account().gliders().get()),\n    finishers: wrap(() => client.account().finishers().get()),\n    'home.cats': wrap(() => client.account().home().cats().get()),\n    'home.nodes': wrap(() => client.account().home().nodes().get()),\n    guilds: wrap(() => accountGuilds(client)),\n    luck: wrap(() => client.account().luck().get()),\n    mailcarriers: wrap(() => client.account().mailcarriers().get()),\n    masteries: wrap(() => client.account().masteries().get()),\n    'mastery.points': wrap(() => client.account().mastery().points().get()),\n    materials: wrap(() => client.account().materials().get()),\n    minis: wrap(() => client.account().minis().get()),\n    'mounts.skins': wrap(() => client.account().mounts().skins().get()),\n    'mounts.types': wrap(() => client.account().mounts().types().get()),\n    novelties: wrap(() => client.account().novelties().get()),\n    outfits: wrap(() => client.account().outfits().get()),\n    'pvp.games': wrap(() => client.account().pvp().games().all()),\n    'pvp.heroes': wrap(() => client.account().pvp().heroes().get()),\n    'pvp.standings': wrap(() => client.account().pvp().standings().get()),\n    'pvp.stats': wrap(() => client.account().pvp().stats().get()),\n    raids: wrap(() => client.account().raids().get()),\n    recipes: wrap(() => client.account().recipes().get()),\n    shared: wrap(() => client.account().inventory().get()),\n    skins: wrap(() => client.account().skins().get()),\n    titles: wrap(() => client.account().titles().get()),\n    wallet: wrap(() => client.account().wallet().get())\n  }\n\n  return flow.parallel(requests).then(data => {\n    data = unflatten(data)\n    data.characters = filterBetaCharacters(data.characters)\n    return data\n  })\n}\n\n// Get the guild data accessible for the account\nfunction accountGuilds (client) {\n  return client.account().get().then(account => {\n    if (!account.guild_leader) {\n      return []\n    }\n\n    let requests = account.guild_leader.map(id => wrap(() => guildData(id)))\n    return flow.parallel(requests)\n  })\n\n  function guildData (id) {\n    let requests = {\n      data: wrap(() => client.guild().get(id)),\n      members: wrap(() => client.guild(id).members().get()),\n      ranks: wrap(() => client.guild(id).ranks().get()),\n      stash: wrap(() => client.guild(id).stash().get()),\n      teams: wrap(() => Promise.resolve(null)),\n      treasury: wrap(() => client.guild(id).treasury().get()),\n      upgrades: wrap(() => client.guild(id).upgrades().get())\n    }\n\n    return flow.parallel(requests)\n  }\n}\n\n// Filter out beta characters from the total account blob, since they are\n// technically not part of the actual live account and live on a different server\nfunction filterBetaCharacters (characters) {\n  /* istanbul ignore next */\n  if (!characters) {\n    return null\n  }\n\n  return characters.filter(x => !x.flags || !x.flags.includes('Beta'))\n}\n\n// Wrap a promise function so all errors that have to do with the API\n// just result in an empty response instead of throwing an error\n// This prevents API errors / changes breaking the entire infrastructure\nfunction wrap (func) {\n  return () => new Promise((resolve, reject) => {\n    func()\n      .then(x => resolve(x))\n      .catch(err => {\n        let status = _get(err, 'response.status')\n        let text = _get(err, 'content.text')\n\n        if (status || text) {\n          console.warn(`API error: ${text} (${status})`)\n          return resolve(null)\n        }\n\n        reject(err)\n      })\n  })\n}\n\n// Unflatten an object with keys describing a nested structure\nfunction unflatten (object) {\n  let result = {}\n\n  for (let key in object) {\n    _set(result, key, object[key])\n  }\n\n  return result\n}\n\n// Set the value of an object based on a flat key (\"a.b.c\")\nfunction _set (object, key, value) {\n  const keyParts = key.split('.')\n\n  let walking = object\n  keyParts.forEach((key, index) => {\n    // Create the nested object if it does not exist\n    if (!walking[key]) {\n      walking[key] = {}\n    }\n\n    // If we reached the last part, set the value and exit out\n    if (index === keyParts.length - 1) {\n      walking[key] = value\n      return\n    }\n\n    // Set the next part of the key\n    walking = walking[key]\n  })\n}\n\nmodule.exports = blob\nmodule.exports.wrap = wrap\n","const regexCloseSquareBracket = /]|^\\[/g\nconst regexOpenSquareBracket = /\\.?\\[/g\n\nmodule.exports = function (object, path, defaultValue) {\n  // Handle the case that the object is undefined or not an object\n  if (!object || Object(object) !== object) {\n    return defaultValue\n  }\n\n  // A) If the path is an array, we can just use that\n  // B) If the path is a string, convert it into an array by migrating\n  //    array-style `[foo]` accessors into object-style `.foo` accessors\n  const cleanPath = Array.isArray(path)\n    ? path\n    : path.replace(regexCloseSquareBracket, '').replace(regexOpenSquareBracket, '.').split('.')\n\n  return get(object, cleanPath, defaultValue)\n}\n\nfunction get (object, path, defaultValue) {\n  let current = object\n\n  for (const segment of path) {\n    current = current[segment]\n\n    if (current == null) {\n      return defaultValue\n    }\n  }\n\n  return current\n}\n","const DAY_MS = 24 * 60 * 60 * 1000\n\nfunction getDateAtTime (date, time) {\n  return new Date(date.toISOString().replace(/T.*Z/, `T${time}.000Z`))\n}\n\nfunction getDailyReset (date) {\n  date = date ? new Date(date) : new Date()\n\n  date = new Date(date.getTime() + DAY_MS)\n  return getDateAtTime(date, '00:00:00')\n}\n\nfunction getLastDailyReset (date) {\n  return new Date(getDailyReset(date).getTime() - DAY_MS)\n}\n\nfunction getWeeklyReset (date) {\n  date = date ? new Date(date) : new Date()\n\n  const weekday = date.getUTCDay()\n  const hours = date.getUTCHours()\n  const minutes = date.getUTCMinutes()\n  let dayDiff = 0\n\n  switch (weekday) {\n    case 0:\n      // 0 -> 1 sunday\n      dayDiff = 1\n      break\n    case 1:\n      // 1 -> 0 monday (if before reset)\n      // 1 -> 7 monday (if after reset)\n      const pastReset = hours > 7 || (hours === 7 && minutes >= 30)\n      dayDiff = pastReset ? 7 : 0\n      break\n    default:\n      // 2 -> 6 tuesday\n      // 3 -> 5 wednesday\n      // 4 -> 4 thursday\n      // 5 -> 3 friday\n      // 6 -> 2 saturday\n      dayDiff = 8 - weekday\n      break\n  }\n\n  date = new Date(date.getTime() + dayDiff * DAY_MS)\n  return getDateAtTime(date, '07:30:00')\n}\n\nfunction getLastWeeklyReset (date) {\n  return new Date(getWeeklyReset(date).getTime() - 7 * DAY_MS)\n}\n\nmodule.exports = {\n  getDateAtTime,\n  getDailyReset,\n  getLastDailyReset,\n  getWeeklyReset,\n  getLastWeeklyReset\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class AchievementsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/achievements'\n    this.isPaginated = true\n    this.isBulk = true\n    this.supportsBulkAll = false\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n\n  categories () {\n    return new CategoriesEndpoint(this)\n  }\n\n  groups () {\n    return new GroupsEndpoint(this)\n  }\n\n  daily () {\n    return new DailyEndpoint(this)\n  }\n\n  dailyTomorrow () {\n    return new DailyTomorrowEndpoint(this)\n  }\n}\n\nclass CategoriesEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/achievements/categories'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n\nclass GroupsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/achievements/groups'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n\nclass DailyEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/achievements/daily'\n    this.cacheTime = 60 * 60\n  }\n}\n\nclass DailyTomorrowEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/achievements/daily/tomorrow'\n    this.cacheTime = 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class BackstoryEndpoint extends AbstractEndpoint {\n  answers () {\n    return new AnswersEndpoint(this)\n  }\n\n  questions () {\n    return new QuestionsEndpoint(this)\n  }\n}\n\nclass AnswersEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/backstory/answers'\n    this.isPaginated = true\n    this.isBulk = true\n    this.supportsBulkAll = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n\nclass QuestionsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/backstory/questions'\n    this.isPaginated = true\n    this.isBulk = true\n    this.supportsBulkAll = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class BuildEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/build'\n    this.cacheTime = 60\n  }\n\n  get () {\n    return super.get().then(result => result.id)\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class CatsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/cats'\n    this.isPaginated = true\n    this.isBulk = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class ColorsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/colors'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class ContinentsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/continents'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n\n  floors (id) {\n    return new FloorsEndpoint(this, id)\n  }\n}\n\nclass FloorsEndpoint extends AbstractEndpoint {\n  constructor (client, continentId) {\n    super(client)\n    this.url = `/v2/continents/${continentId}/floors`\n    this.isPaginated = true\n    this.isBulk = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class CurrenciesEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/currencies'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class DailycraftingEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/dailycrafting'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class DungeonsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/dungeons'\n    this.isPaginated = true\n    this.isBulk = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class EmblemEndpoint extends AbstractEndpoint {\n  backgrounds () {\n    return new LayersEndpoint(this, 'backgrounds')\n  }\n\n  foregrounds () {\n    return new LayersEndpoint(this, 'foregrounds')\n  }\n}\n\nclass LayersEndpoint extends AbstractEndpoint {\n  constructor (client, layer) {\n    super(client)\n    this.url = `/v2/emblem/${layer}`\n    this.isPaginated = true\n    this.isBulk = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class EventsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v1/event_details.json'\n    this.cacheTime = 24 * 60 * 60\n  }\n\n  all () {\n    return super.get().then(transformV1Format)\n  }\n\n  get (id) {\n    return super.get(`?event_id=${id}`, true).then(json => transformV1Format(json)[0])\n  }\n}\n\nfunction transformV1Format (json) {\n  let events = json.events\n  let transformed = []\n  const keys = Object.keys(events)\n\n  for (let i = 0; i !== keys.length; i++) {\n    transformed.push(Object.assign({ id: keys[i] }, events[keys[i]]))\n  }\n\n  return transformed\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class FilesEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/files'\n    this.isPaginated = true\n    this.isBulk = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class FinishersEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/finishers'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class GlidersEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/gliders'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class GuildEndpoint extends AbstractEndpoint {\n  constructor (client, id) {\n    super(client)\n    this.id = id\n    this.url = '/v2/guild'\n    this.isAuthenticated = true\n    this.isOptionallyAuthenticated = true\n    this.cacheTime = 60 * 60\n  }\n\n  get (id) {\n    return super.get(`/${id}`, true)\n  }\n\n  permissions () {\n    return new PermissionsEndpoint(this)\n  }\n\n  search (name) {\n    return new SearchEndpoint(this, name)\n  }\n\n  upgrades () {\n    if (this.id === undefined) {\n      return new AllUpgradesEndpoint(this)\n    }\n\n    return new UpgradesEndpoint(this, this.id)\n  }\n\n  log () {\n    return new LogEndpoint(this, this.id)\n  }\n\n  members () {\n    return new MembersEndpoint(this, this.id)\n  }\n\n  ranks () {\n    return new RanksEndpoint(this, this.id)\n  }\n\n  stash () {\n    return new StashEndpoint(this, this.id)\n  }\n\n  storage () {\n    return new StorageEndpoint(this, this.id)\n  }\n\n  teams () {\n    return new TeamsEndpoint(this, this.id)\n  }\n\n  treasury () {\n    return new TreasuryEndpoint(this, this.id)\n  }\n}\n\nclass PermissionsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/guild/permissions'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n\nclass SearchEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/guild/search'\n    this.cacheTime = 60 * 60\n  }\n\n  name (name) {\n    return super.get(`?name=${encodeURIComponent(name)}`, true)\n      .then(result => result[0])\n  }\n}\n\nclass AllUpgradesEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/guild/upgrades'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n\nclass LogEndpoint extends AbstractEndpoint {\n  constructor (client, id) {\n    super(client)\n    this.url = `/v2/guild/${encodeURIComponent(id)}/log`\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n\n  since (logId) {\n    return super.get(`?since=${logId}`, true)\n  }\n}\n\nclass MembersEndpoint extends AbstractEndpoint {\n  constructor (client, id) {\n    super(client)\n    this.url = `/v2/guild/${encodeURIComponent(id)}/members`\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass RanksEndpoint extends AbstractEndpoint {\n  constructor (client, id) {\n    super(client)\n    this.url = `/v2/guild/${encodeURIComponent(id)}/ranks`\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass StashEndpoint extends AbstractEndpoint {\n  constructor (client, id) {\n    super(client)\n    this.url = `/v2/guild/${encodeURIComponent(id)}/stash`\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass StorageEndpoint extends AbstractEndpoint {\n  constructor (client, id) {\n    super(client)\n    this.url = `/v2/guild/${encodeURIComponent(id)}/storage`\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass TeamsEndpoint extends AbstractEndpoint {\n  constructor (client, id) {\n    super(client)\n    this.url = `/v2/guild/${encodeURIComponent(id)}/teams`\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass TreasuryEndpoint extends AbstractEndpoint {\n  constructor (client, id) {\n    super(client)\n    this.url = `/v2/guild/${encodeURIComponent(id)}/treasury`\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n\nclass UpgradesEndpoint extends AbstractEndpoint {\n  constructor (client, id) {\n    super(client)\n    this.url = `/v2/guild/${encodeURIComponent(id)}/upgrades`\n    this.isAuthenticated = true\n    this.cacheTime = 5 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class HomeEndpoint extends AbstractEndpoint {\n  cats () {\n    return new CatsEndpoint(this)\n  }\n\n  nodes () {\n    return new NodesEndpoint(this)\n  }\n}\n\nclass CatsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/home/cats'\n    this.isPaginated = true\n    this.isBulk = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n\nclass NodesEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/home/nodes'\n    this.isPaginated = true\n    this.isBulk = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class ItemsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/items'\n    this.isPaginated = true\n    this.isBulk = true\n    this.supportsBulkAll = false\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class ItemstatsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/itemstats'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class LegendsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/legends'\n    this.isPaginated = true\n    this.isBulk = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class MailcarriersEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/mailcarriers'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class MapchestsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/mapchests'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class MapsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/maps'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class MasteriesEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/masteries'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class MaterialsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/materials'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class MinisEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/minis'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class MountsEndpoint extends AbstractEndpoint {\n  skins () {\n    return new SkinsEndpoint(this)\n  }\n\n  types () {\n    return new TypesEndpoint(this)\n  }\n}\n\nclass SkinsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/mounts/skins'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n\nclass TypesEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/mounts/types'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class NodesEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/nodes'\n    this.isPaginated = true\n    this.isBulk = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class NoveltiesEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/novelties'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class OutfitsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/outfits'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class PetsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/pets'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class ProfessionsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/professions'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class QuaggansEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/quaggans'\n    this.isPaginated = true\n    this.isBulk = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class QuestsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/quests'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class RacesEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/races'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class RaidsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/raids'\n    this.isPaginated = true\n    this.isBulk = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class RecipesEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/recipes'\n    this.isPaginated = true\n    this.isBulk = true\n    this.supportsBulkAll = false\n    this.cacheTime = 24 * 60 * 60\n  }\n\n  search () {\n    return new SearchEndpoint(this)\n  }\n}\n\nclass SearchEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/recipes/search'\n    this.cacheTime = 24 * 60 * 60\n  }\n\n  input (id) {\n    return super.get(`?input=${id}`, true)\n  }\n\n  output (id) {\n    return super.get(`?output=${id}`, true)\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class SkillsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/skills'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class SkinsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/skins'\n    this.isPaginated = true\n    this.isBulk = true\n    this.supportsBulkAll = false\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class SpecializationsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/specializations'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class StoriesEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/stories'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n\n  seasons () {\n    return new SeasonsEndpoint(this)\n  }\n}\n\nclass SeasonsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/stories/seasons'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class TitlesEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/titles'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class TokeninfoEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/tokeninfo'\n    this.isAuthenticated = true\n    this.cacheTime = 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class TraitsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/traits'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class WorldbossesEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/worldbosses'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class WorldsEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/worlds'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","const AbstractEndpoint = require('../endpoint')\n\nmodule.exports = class WvwEndpoint extends AbstractEndpoint {\n  abilities () {\n    return new AbilitiesEndpoint(this)\n  }\n\n  matches () {\n    return new MatchesEndpoint(this)\n  }\n\n  objectives () {\n    return new ObjectivesEndpoint(this)\n  }\n\n  upgrades () {\n    return new UpgradesEndpoint(this)\n  }\n\n  ranks () {\n    return new RanksEndpoint(this)\n  }\n}\n\nclass AbilitiesEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/wvw/abilities'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n\nclass MatchesEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/wvw/matches'\n    this.isPaginated = true\n    this.isBulk = true\n    this.cacheTime = 30\n  }\n\n  world (worldId) {\n    return super.get(`?world=${worldId}`, true)\n  }\n\n  overview () {\n    return new MatchesOverviewEndpoint(this)\n  }\n\n  scores () {\n    return new MatchesScoresEndpoint(this)\n  }\n\n  stats (id) {\n    return new MatchesStatsEndpoint(this, id)\n  }\n}\n\nclass TeamsEndpoint extends AbstractEndpoint {\n  constructor (client, id, team) {\n    super(client)\n    this.team = team\n    this.id = id\n    this.url = `/v2/wvw/matches/stats/${id}/teams`\n  }\n\n  top (which) {\n    return new TopStatsEndpoint(this, this.id, this.team, which)\n  }\n}\n\nclass TopStatsEndpoint extends AbstractEndpoint {\n  constructor (client, id, team, which) {\n    super(client)\n    this.which = which\n    this.url = `/v2/wvw/matches/stats/${id}/teams/${team}/top/${which}`\n  }\n}\n\nclass MatchesOverviewEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/wvw/matches/overview'\n    this.isPaginated = true\n    this.isBulk = true\n    this.cacheTime = 30\n  }\n\n  world (worldId) {\n    return super.get(`?world=${worldId}`, true)\n  }\n}\n\nclass MatchesScoresEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/wvw/matches/scores'\n    this.isPaginated = true\n    this.isBulk = true\n    this.cacheTime = 30\n  }\n\n  world (worldId) {\n    return super.get(`?world=${worldId}`, true)\n  }\n}\n\nclass MatchesStatsEndpoint extends AbstractEndpoint {\n  constructor (client, id) {\n    super(client)\n    this.id = id\n    this.url = '/v2/wvw/matches/stats'\n    this.isPaginated = true\n    this.isBulk = true\n    this.cacheTime = 30\n  }\n\n  world (worldId) {\n    return super.get(`?world=${worldId}`, true)\n  }\n\n  teams (team) {\n    return new TeamsEndpoint(this, this.id, team)\n  }\n}\n\nclass ObjectivesEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/wvw/objectives'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n\nclass UpgradesEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/wvw/upgrades'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n\nclass RanksEndpoint extends AbstractEndpoint {\n  constructor (client) {\n    super(client)\n    this.url = '/v2/wvw/ranks'\n    this.isPaginated = true\n    this.isBulk = true\n    this.isLocalized = true\n    this.cacheTime = 24 * 60 * 60\n  }\n}\n","import ApiModule from './apiModule';\n\nconst collectionAchievements = [\n    1725, // AC\n    1723, // CM\n    1721, // TA\n    1722, // SE\n    1714, // CoF\n    1718, // HotW\n    1719, // CoE\n    1724 // Arah\n];\n\nconst tokenCurrencies = {\n    1725: 5,\n    1723: 9,\n    1721: 11,\n    1722: 10,\n    1714: 13,\n    1718: 12,\n    1719: 14,\n    1724: 6\n};\n\nconst skinCosts = {\n    Helm: 180,\n    Shoulders: 210,\n    Coat: 330,\n    Gloves: 180,\n    Leggings: 300,\n    Boots: 180,\n    Axe: 300,\n    Dagger: 300,\n    Focus: 210,\n    Greatsword: 390,\n    Hammer: 390,\n    Spear: 390,\n    Longbow: 390,\n    Mace: 300,\n    Pistol: 300,\n    Rifle: 390,\n    Scepter: 210,\n    Shield: 210,\n    Shortbow: 390,\n    Speargun: 390,\n    Staff: 390,\n    Sword: 300,\n    Torch: 210,\n    Trident: 390,\n    Warhorn: 210\n};\n\nexport default class extends ApiModule {\n    get commandName() {\n        return 'dungeon-collection';\n    }\n\n    async _execute() {\n        this._terminal.writeLine(`<span style='color:yellow;'>This command will search your account for the dungeon collection skins and outputs the amount of unlocked skins, the amount of required tokens and the amount of tokens still left to collect in order to complete the collection. Please wait...</span>`);\n        this._terminal.writeLine();\n\n        const [achievements, accountAchievements, wallet] = await Promise.all([\n            this._api.achievements().many(collectionAchievements),\n            this._api.account().achievements().many(collectionAchievements),\n            this._api.account().wallet().get()\n        ]);\n\n        const skinIds = achievements.map(a => a.bits.map(b => b.id));\n        const skins = new Map(\n            (await Promise.all(skinIds.map(x => this._api.skins().many(x))))\n                .flat()\n                .map(x => [x.id, x]));\n\n        let result = '';\n        for (let achievement of achievements) {\n            // Determine locked / unlocked status\n            const accountAchievement = accountAchievements.find(a => a.id === achievement.id);\n            const skinsUnlocked = accountAchievement ? (accountAchievement.done ? achievement.bits.map(b => b.id) : accountAchievement.bits.map(b => achievement.bits[b].id)) : [];\n            const skinsLocked = achievement.bits.filter(b => skinsUnlocked.indexOf(b.id) === -1).map(b => b.id);\n    \n            // Determine dungeon tokens\n            const tokensSpent = skinsUnlocked.map(id => skinCosts[skins.get(id).details.type]).reduce((a, b) => a + b);\n            const tokensLeft = skinsLocked.map(id => skinCosts[skins.get(id).details.type]).reduce((a, b) => a + b);\n            const tokensOwned = wallet.find(c => c.id === tokenCurrencies[achievement.id]).value;\n    \n            // Output\n            result += `${achievement.name}:\\n`;\n            result += ` - Unlocked skins: ${skinsUnlocked.length}/${skinsUnlocked.length + skinsLocked.length}\\n`;\n            result += ` - Tokens required: ${tokensLeft.toLocaleString()} (${tokensSpent.toLocaleString()}/${(tokensSpent + tokensLeft).toLocaleString()})\\n`;\n            result += ` - Tokens to collect: ${(tokensLeft < tokensOwned ? 0 : tokensLeft - tokensOwned).toLocaleString()} (${tokensOwned.toLocaleString()}/${tokensLeft.toLocaleString()})\\n`;\n            result += `\\n`;\n        }\n        return result;\n    }\n}\n","import ApiModule from './apiModule';\n\nSet.prototype.difference = function(setB) {\n    var difference = new Set(this);\n    for (let elem of setB) {\n        difference.delete(elem);\n    }\n    return difference;\n}\n\nexport default class extends ApiModule {\n    get commandName() {\n        return 'mastery-point-achievements';\n    }\n\n    async _execute() {\n        this._terminal.writeLine(`<span style='color:yellow;'>This command will verify your account for all locked and unlocked mastery points. Please wait...</span>`);\n        this._terminal.writeLine();\n    \n        const achievements = await this._api.achievements().all();\n  \n        const masteriesRegion = new Map();\n        const masteries = new Map();\n        for (let achievement of achievements) {\n            const mastery = achievement.rewards ? achievement.rewards.find(r => r.type === 'Mastery') : null;\n            if (!mastery) {\n                continue;\n            }\n            if (!masteries.has(mastery.id)) {\n                masteries.set(mastery.id, []);\n            }\n            if (!masteriesRegion.has(mastery.region)) {\n                masteriesRegion.set(mastery.region, []);\n            }\n            masteriesRegion.get(mastery.region).push(achievement);\n            masteries.get(mastery.id).push(achievement);\n        }\n        \n        const [accountAchievements, accountPoints] = await Promise.all([\n            this._api.account().achievements().get(),\n            this._api.account().mastery().points().get()\n        ]);\n        const unlocked = accountPoints.unlocked;\n        const locked = Array.from(new Set(masteries.keys()).difference(new Set(accountPoints.unlocked))).sort();\n    \n        const unlockedIncorrectly = unlocked.filter(m => {\n            const accountAchievement = accountAchievements.find(a => masteries.has(m) && masteries.get(m).find(m => m.id === a.id));\n            return !accountAchievement || !accountAchievement.done;\n        });\n        const lockedIncorrectly = locked.filter(m => {\n            const accountAchievement = accountAchievements.find(a => masteries.has(m) && masteries.get(m).find(m => m.id === a.id));\n            return accountAchievement && accountAchievement.done;\n        });\n    \n        let result = '';\n        result += `Unlocked incorrectly:\\n`;\n        for (let mastery of unlockedIncorrectly) {\n            const achievement = masteries.get(mastery);\n            if (achievement) {\n                result += ` - ${mastery} -> ${achievement.map(a => `${a.name} (${a.id})`).join(', ')}\\n`;\n            } else {\n                result += ` - ${mastery} -> unknown achievement\\n`;\n            }\n        }\n        result += `\\n`;\n    \n        result += `Locked incorrectly:\\n`;\n        for (let mastery of lockedIncorrectly) {\n            const achievement = masteries.get(mastery);\n            if (achievement) {\n                result += ` - ${mastery} -> ${achievement.map(a => `${a.name} (${a.id})`).join(', ')}\\n`;\n            } else {\n                result += ` - ${mastery} -> unknown achievement\\n`;\n            }\n        }\n        \n        return `${result}\\n`;\n    }\n}\n","import ApiModule from './apiModule';\n\nconst collectionAchievements = [\n    2875, // The Super Adventure (blue)\n    2880, // The Kind Toad (green)\n    2860, // The Storm Wizard (yellow)\n    2867, // The Kaiser (orange)\n    3393 // The Crimson Assassin (red)\n];\n\nconst sabItems = {\n    2875: [ // Blue weapons\n        46515, // Axe (bound)\n        46533, // Dagger (bound)\n        46521, // Focus (bound)\n        41925, // Greatsword (bound)\n        46536, // Hammer (bound)\n        41940, // Longbow (bound)\n        46512, // Mace (bound)\n        46527, // Pistol (bound)\n        46530, // Rifle (bound)\n        41928, // Scepter (bound)\n        41934, // Shield (bound)\n        41937, // Short Bow (bound)\n        41931, // Staff (bound)\n        41922, // Sword (bound)\n        46524, // Torch (bound)\n        46518, // Warhorn (bound)\n        46540, // Axe\n        46546, // Dagger\n        46542, // Focus\n        41946, // Greatsword\n        46547, // Hammer\n        41949, // Longbow\n        46539, // Mace\n        46544, // Pistol\n        46545, // Rifle\n        41952, // Scepter\n        41955, // Shield\n        41958, // Short Bow\n        41961, // Staff\n        41964, // Sword\n        46543, // Torch\n        46541, // Warhorn\n    ],\n    2880: [ // Green weapons\n        46551, // Axe\n        46569, // Dagger\n        46557, // Focus\n        46575, // Greatsword\n        46572, // Hammer\n        46578, // Longbow\n        46548, // Mace\n        46563, // Pistol\n        46566, // Rifle\n        46581, // Scepter\n        46584, // Shield\n        46587, // Short Bow\n        46590, // Staff\n        46593, // Sword\n        46560, // Torch\n        46554 // Warhorn\n    ],\n    2860: [ // Yellow weapons\n        46599, // Axe\n        46617, // Dagger\n        46605, // Focus\n        46623, // Greatsword\n        46620, // Hammer\n        46626, // Longbow\n        46596, // Mace\n        46611, // Pistol\n        46614, // Rifle\n        46629, // Scepter\n        46632, // Shield\n        46635, // Short Bow\n        46638, // Staff\n        46641, // Sword\n        46608, // Torch\n        46602 // Warhorn\n    ],\n    2867: [ // Orange weapons\n        78105, // Axe\n        78045, // Axe (bound)\n        78029, // Axe (blue infusion)\n        78068, // Axe (red infusion)\n        78024, // Dagger\n        78087, // Dagger (bound)\n        78110, // Dagger (blue infusion)\n        78073, // Dagger (red infusion)\n        78022, // Focus\n        78066, // Focus (bound)\n        78060, // Focus (blue infusion)\n        78102, // Focus (red infusion)\n        78053, // Greatsword\n        78106, // Greatsword (bound)\n        78037, // Greatsword (blue infusion)\n        78059, // Greatsword (red infusion)\n        78081, // Hammer\n        78100, // Hammer (bound)\n        78051, // Hammer (blue infusion)\n        78104, // Hammer (red infusion)\n        78048, // Longbow\n        78082, // Longbow (bound)\n        78020, // Longbow (blue infusion)\n        78014, // Longbow (red infusion)\n        78013, // Mace\n        78021, // Mace (bound)\n        78098, // Mace (blue infusion)\n        78056, // Mace (red infusion)\n        78077, // Pistol\n        78064, // Pistol (bound)\n        78047, // Pistol (blue infusion)\n        78113, // Pistol (red infusion)\n        78023, // Rifle\n        78035, // Rifle (bound)\n        78083, // Rifle (blue infusion)\n        78032, // Rifle (red infusion)\n        78070, // Scepter\n        78107, // Scepter (bound)\n        78099, // Scepter (blue infusion)\n        78063, // Scepter (red infusion)\n        78112, // Shield\n        78075, // Shield (bound)\n        78092, // Shield (blue infusion)\n        78093, // Shield (red infusion)\n        78067, // Short Bow\n        78017, // Short Bow (bound)\n        78055, // Short Bow (blue infusion)\n        78091, // Short Bow (red infusion)\n        78050, // Staff\n        78015, // Staff (bound)\n        78078, // Staff (blue infusion)\n        78080, // Staff (red infusion)\n        78103, // Sword\n        78101, // Sword (bound)\n        78072, // Sword (blue infusion)\n        78061, // Sword (red infusion)\n        78033, // Torch\n        78042, // Torch (bound)\n        78040, // Torch (blue infusion)\n        78111, // Torch (red infusion)\n        78096, // Warhorn\n        78026, // Warhorn (bound)\n        78109, // Warhorn (blue infusion)\n        78044 // Warhorn (red infusion)\n    ],\n    3393: [ // Red weapons\n        80959, // Axe\n        80968, // Dagger\n        80870, // Focus\n        80921, // Greatsword\n        80894, // Hammer\n        80933, // Longbow\n        80931, // Mace\n        80896, // Pistol\n        80940, // Rifle\n        80876, // Scepter\n        80937, // Shield\n        80905, // Short Bow\n        80963, // Staff\n        80912, // Sword\n        80950, // Torch\n        80867 // Warhorn\n    ]\n};\n\nconst sabContainers = {\n    2867: [\n        78039, // Super Adventure Weapon Box (bound orange weapon skin or 8 Crimson Assassin Tokens)\n        78071, // Kaiser Snake Weapon Box (King Toad)\n        78049, // Kaiser Snake Weapon Box (Storm Wizard)\n        78058 // Kaiser Snake Weapon Box (skin)\n    ]\n};\n\nconst tokenItems = {\n    3393: 80890\n};\n\nconst tokenCosts = {\n    3393: {\n        Axe: 12,\n        Dagger: 12,\n        Focus: 8,\n        Greatsword: 16,\n        Hammer: 16,\n        Longbow: 16,\n        Mace: 12,\n        Pistol: 12,\n        Rifle: 16,\n        Scepter: 12,\n        Shield: 8,\n        Shortbow: 16,\n        Staff: 16,\n        Sword: 12,\n        Torch: 8,\n        Warhorn: 8\n    }\n};\n\nconst itemProviders = {\n    80890: [\n        {\n            id: 80862,\n            count: 1,\n            dayLimit: 1\n        },\n        {\n            id: 78039,\n            count: 8,\n            dayLimit: 8\n        }\n    ]\n};\n\nexport default class extends ApiModule {\n    get commandName() {\n        return 'sab-collections';\n    }\n\n    async _execute() {\n        this._terminal.writeLine(`<span style='color:yellow;'>This command will search your account for all SAB related skin collections, and outputs the result. Please wait...</span>`);\n        this._terminal.writeLine();\n            \n        const [achievements, accountAchievements, items, bank, characters] = await Promise.all([\n            this._api.achievements().many(collectionAchievements),\n            this._api.account().achievements().many(collectionAchievements),\n            this._api.items().many(Object.values(sabItems).concat(Object.values(sabContainers), Object.values(tokenItems), [].concat.apply([], Object.values(itemProviders)).map(x => x.id)).flat()),\n            this._api.account().bank().get(),\n            this._api.characters().all()\n        ]);\n\n        const mappedItems = new Map(items.map(x => [x.id, x]));\n\n        // Get skin ids from achievements\n        const achievementSkins = new Map(achievements.map(a => [a.id, a.bits.map(b => b.id)]));\n\n        // Get item skins\n        const itemsToFind = new Map(items.map(x => {\n            switch (x.type) {\n                case 'Consumable':\n                    return [x.id, x.details.skins];\n                case 'Weapon':\n                    return [x.id, [x.default_skin]];\n            }\n            return undefined;\n        }).filter(x => x));\n\n        // Add containers\n        for (let achievementId of Object.keys(sabContainers)) {\n            achievementId = parseInt(achievementId, 10);\n            for (const containerId of sabContainers[achievementId]) {\n                itemsToFind.set(containerId, achievementSkins.get(achievementId));\n            }\n        }\n\n        // Add tokens\n        for (let achievementId of Object.keys(tokenItems)) {\n            achievementId = parseInt(achievementId, 10);\n            itemsToFind.set(tokenItems[achievementId], null);\n        }\n\n        // Match skin ids to their items\n        const skinItems = new Map();\n        for (const [itemId, skinIds] of itemsToFind) {\n            if (skinIds) {\n                for (const skinId of skinIds) {\n                    if (!skinItems.has(skinId)) {\n                        skinItems.set(skinId, []);\n                    }\n                    skinItems.get(skinId).push(itemId);\n                }\n            }\n        }\n\n        // Match all consumables in inventories\n        const ownedItems = new Map();\n        const addOwnedItem = (id, count, description) => {\n            if (!ownedItems.has(id)) {\n                ownedItems.set(id, []);\n            }\n            ownedItems.get(id).push({ count, description });\n        };\n        for (const character of characters) {\n            // Search equipment\n            for (const equipment of character.equipment.filter(e => e)) {\n                if (itemsToFind.has(equipment.id)) {\n                    addOwnedItem(equipment.id, 1, `${character.name} - Equipped as ${equipment.slot}`);\n                }\n            }\n            // Search bags\n            for (const bag of character.bags.filter(b => b)) {\n                for (const item of bag.inventory.filter(i => i)) {\n                    if (itemsToFind.has(item.id)) {\n                        addOwnedItem(item.id, item.count, `${character.name} - Inventory`);\n                    }\n                }\n            }\n        }\n        for (const bankSlot of bank.filter(s => s)) {\n            if (itemsToFind.has(bankSlot.id)) {\n                addOwnedItem(bankSlot.id, bankSlot.count, 'Bank');\n            }\n        }\n\n        let result = '';\n        for (const achievement of achievements) {\n            // Determine locked / unlocked status\n            const accountAchievement = accountAchievements.find(a => a.id === achievement.id);\n            const skinsUnlocked = accountAchievement ? (accountAchievement.done ? achievement.bits.map(b => b.id) : accountAchievement.bits.map(b => achievement.bits[b].id)) : [];\n            const skinsLocked = achievement.bits.filter(b => skinsUnlocked.indexOf(b.id) === -1).map(b => b.id);\n\n            // Determine tokens\n            let tokensRequired = undefined;\n            if (tokenCosts[achievement.id]) {\n                tokensRequired = Object.values(tokenCosts[achievement.id]).reduce((a, b) => a + b, 0);\n            }\n\n            // Determine item locations\n            const getOwnedItems = (items, prefix) => {\n                const result = [];\n                let count = 0;\n                if (items) {\n                    for (const itemId of items) {\n                        if (ownedItems.has(itemId)) {\n                            for (const item of ownedItems.get(itemId)) {\n                                const name = mappedItems.get(itemId) ? mappedItems.get(itemId).name : `((unknown:${itemId}))`;\n                                result.push(`${prefix}- ${name}: ${item.description} (x${item.count})`);\n                                count += item.count;\n                            }\n                        }\n                    }\n                }\n                return [result, count];\n            };\n            const getUnlockedItems = items => getOwnedItems(items[achievement.id], '&nbsp;')[0];\n            const getTokenItems = items => getOwnedItems([items[achievement.id]], '&nbsp;');\n\n            const sabItemsUnlockedResult = getUnlockedItems(sabItems);\n            const sabContainersUnlockedResult = getUnlockedItems(sabContainers);\n            const [tokensUnlockedResult, tokensUnlocked] = getTokenItems(tokenItems);\n\n            // Output\n            result += `${achievement.name}:\\n`;\n            result += `&nbsp;- Unlocked skins: ${skinsUnlocked.length}/${skinsUnlocked.length + skinsLocked.length}\\n`;\n            \n            if (sabItemsUnlockedResult.length > 0) {\n                result += `${sabItemsUnlockedResult.join('\\n')}\\n`;\n            }\n\n            if (sabContainersUnlockedResult.length > 0) {\n                result += `${sabContainersUnlockedResult.join('\\n')}\\n`;\n            }\n\n            if (tokensUnlockedResult.length > 0) {\n                result += `${tokensUnlockedResult.join('\\n')}\\n`;\n            }\n\n            if (tokensRequired !== undefined) {\n                const name = mappedItems.get(tokenItems[achievement.id]) ? mappedItems.get(tokenItems[achievement.id]).name : `((unknown:${tokenItems[achievement.id]}))`;\n                const tokenProviders = itemProviders[tokenItems[achievement.id]];\n\n                const tokensPerDay = tokenProviders.reduce((a, c) => a + (c.count / c.dayLimit || 0), 0);\n                result += `&nbsp;- ${tokensPerDay}x ${name} per day:\\n`;\n                for (let tokenProvider of tokenProviders) {\n                    result += `&nbsp;&nbsp;&nbsp;- ${mappedItems.get(tokenProvider.id).name}: ${tokenProvider.count}x per ${tokenProvider.dayLimit} day(s)\\n`;\n                }\n\n                result += '&nbsp;- Without unopened containers:\\n'\n                result += `&nbsp;&nbsp;&nbsp;- Tokens obtained: ${tokensUnlocked}/${tokensRequired}x ${name}\\n`;\n                const tokensRemaining = tokensRequired - tokensUnlocked;\n                result += `&nbsp;&nbsp;&nbsp;- Tokens to collect: ${tokensRemaining < 0 ? 0 : tokensRemaining}x ${name}\\n`;\n                if (tokensRemaining > 0) {\n                    result += `&nbsp;&nbsp;&nbsp;- Days remaining: ${tokensRemaining / tokensPerDay} (does not take achievement gating into account)\\n`;\n                }\n\n                result += '&nbsp;- With unopened containers:\\n'\n\n                let tokensUnlockedExtra = '';\n                let tokensUnlockedExtraCount = tokensUnlocked;\n                for (let tokenProvider of tokenProviders) {\n                    const [tokenContainersUnlockedResult, tokenContainersUnlocked] = getOwnedItems([tokenProvider.id], '&nbsp;&nbsp;&nbsp;');\n                    tokensUnlockedExtraCount += tokenContainersUnlocked * tokenProvider.count;\n                    if (tokenContainersUnlockedResult.length > 0) {\n                        tokensUnlockedExtra += `${tokenContainersUnlockedResult.join('\\n')}\\n`;\n                    }\n                }\n                result += tokensUnlockedExtra;\n                result += `&nbsp;&nbsp;&nbsp;- Tokens obtained: ${tokensUnlockedExtraCount}/${tokensRequired}x ${name}\\n`;\n                const tokensRemainingExtra = tokensRequired - tokensUnlockedExtraCount;\n                result += `&nbsp;&nbsp;&nbsp;- Tokens to collect: ${tokensRemainingExtra < 0 ? 0 : tokensRemainingExtra}x ${name}\\n`;\n                if (tokensRemainingExtra > 0) {\n                    result += `&nbsp;&nbsp;&nbsp;- Days remaining: ${tokensRemainingExtra / tokensPerDay} (does not take achievement gating into account)\\n`;\n                }\n            }\n            result += `\\n`;\n        }\n        return result;\n    }\n}\n","export default [\n    require('./dungeon-collection').default,\n    require('./mastery-point-achievements').default,\n    require('./sab-collections').default\n];\n","import client from 'gw2api-client';\nimport Terminal from './terminal.js';\nimport modules from './modules';\n\nconst api = client();\n\nconst settings = {\n    get apiKey() {\n        return localStorage.getItem('apiKey');\n    },\n    set apiKey(val) {\n        localStorage.setItem('apiKey', val);\n        api.authenticate(val);\n    }\n};\n\nif (settings.apiKey) {\n    api.authenticate(settings.apiKey);\n}\n\nconst terminal = new Terminal('terminal', {\n    welcome: `Guild Wars 2 Console - For command information, type 'help'.`,\n    prompt: 'GW2'\n}, {\n    execute: async function (cmd, args) {\n        try {\n            if (commands[cmd]) {\n                let result = commands[cmd](...args);\n                if (result.then) {\n                    result = await result;\n                }\n                result = result.replace(/\\n/g, '<br />');\n                return result;\n            } else {\n                return false;\n            }\n        } catch (err) {\n            console.log(err);\n            return `<span style='color:red;'>${err}</span>`;\n        }\n    }\n});\n\nasync function wrapApi(promise) {\n    try {\n        return await promise;\n    } catch (err) {\n        if (!err.content) {\n            throw err;\n        } else if (err.content.text) {\n            throw `Error ${err.response.status}: ${err.content.text}.`;\n        } else {\n            throw `Error ${err.response.status}`;\n        }\n    }\n}\n\nconst commands = {\n    /** Terminal specific commands **/\n    clear: function() {\n        terminal.clear();\n        return '';\n    },\n\n    help: function() {\n        return `Available commands: ${Object.keys(commands).sort().join(', ')}.`;\n    },\n\n    github: function() {\n        return `The GitHub repository can be found at <a href='https://github.com/Archomeda/gw2-console' target='_blank'>github.com/Archomeda/gw2-console</a>.`;\n    },\n\n    apikey: async function(key) {\n        if (!key) {\n            if (settings.apiKey) {\n                return `Your API key is currently set to '${settings.apiKey}'.`;\n            } else {\n                return `You have no API key set. You can set one with 'apikey &lt;key&gt;'. This API key will be saved to your browser local storage.`;\n            }\n        } else {\n            terminal.writeLine(`<span style='color:yellow;'>Testing API key, hang on tight...</span>`);\n            const testApi = client().authenticate(key);\n            const response = await wrapApi(testApi.account().get());\n            if (typeof(response) === 'string') {\n                return `Invalid API key: ${response}`;\n            } else {\n                settings.apiKey = key;\n                return `Hello ${response.name}! Your API key is set to '${key}'.`;\n            }\n        }\n    }\n}\n\nfor (const module of modules) {\n    const newModule = new module();\n    newModule.initialize(terminal, api);\n    commands[newModule.commandName] = newModule.execute.bind(newModule);\n}\n"],"sourceRoot":""}